aproximacin prctico mtodo seleccin portafolio inversin arxiv carlos minutti martnez centro estudio computacin avanzado cecav universidad nacional autnoma mxico unam carlos_minutti@cecav.unam.mx centro investigacin innovacin tecnologa informacin comunicacin infotec carlos.minutti@infotec.mx github.com/cminuttim 2024 arxiv:2410.11070v1   q-fin.pm   14 oct 2024   resumir this paper explor the practical approach to portfolio selection methods for investments the study delv into portfolio theory discussing concepts such as expected return variance asset correlation and opportunity set it also presents the efficient frontier and its application in the markowitz model which employs mean-variance optimization techniqu an alternativir approach based on the mean-semivariance model is introduced this model accounts for the skewness and kurtosis of the asset return distribution providing more comprehensive view of risk and return the study also address the practical implementation of these models including the use of genetic algorithms to optimize portfolio selection additionally transaction costs and integer constraint in portfolio optimization are considered demonstrating the applicability of the markowitz model in real-world scenario   documento explorar aproximacin prctico mtodo seleccin portafolio inversión estudio profundizar teora portafolio discutir concepto rendimiento esperado varianza correlacin activo conjunto oportunidad tambin presentar frontera eficiente aplicacin modelo markowitz utilizar tcnica optimizacin media-varianzo introducir enfoque alternativo basado modelo media-semivarianzo modelo asimetra curtosis distribucin retorno activo proporcionar visin ms completa riesgo rendimiento estudio tambin abordo implementacin prctico modelo incluir algoritmo gentico optimizar seleccin portafolio adems considerar costo transaccin restricción entero optimizacin portafolio demostrar aplicabilidad modelo markowitz escenario real   ndice general 1 introduccin 3 2 teora portafolio 1 2.1 rendimiento esperado portafolio 1 2.2 varianza portafolio 2 2.3 correlacin activo 3 2.4 conjunto oportunidad portafolio 4 2.4.1 conjunto oportunidad acción 4 2.4.2 conjunto oportunidad ms acción 8 2.5 frontera eficiente 9 3 modelo media-varianza 11 3.1 markowitz programacin cuadrtico 11 3.2 utilidad criterio media-varianza 12 3.3 medida alternativo tendencia central 14 3.4 aplicar modelo markowitz 14 3.4.1 dispersin 16 3.4.2 conjunto oportunidad frontera eficiente 16 3.4.3 portafolio varianza mnimo 18 3.4.4 especificar rendimiento 20 3.4.5 precio 26 3.4.6 calidad anlisis 27 3.5 caracterstica modelo 29 4 modelo media-semivarianza 30 4.1 planteamiento modelo 30 4.2 aplicar modelo media-semivarianza 31 4.2.1 dispersin 31 4.2.2 conjunto oportunidad frontera eficiente 32 4.2.3 portafolio semivarianza mnimo 33 4.2.4 especificar rendimiento 35 1   aproximacin prctico mtodo seleccin portafolio inversin arxiv 4.2.5 calidad anlisis 39 5 algoritmos gentico 40 5.1 principio algoritmo gentico 40 5.1.1 algoritmo gentico simple 41 5.1.2 codificacin 42 5.1.3 funcin adaptacin 42 5.1.4 operacin seleccin 42 5.1.5 operacin cruzamiento 43 5.1.6 operacin mutacin 43 5.1.7 restricción 43 5.1.8 tamao poblacin 43 5.1.9 poblacin inicial 44 5.1.10 reemplazo poblacin 44 5.1.11 criterio parada 44 5.1.12 ventaja desventaja 44 5.2 algoritmo gentico modelo media-varianza 45 6 costo transaccin restricción entero 50 6.1 modelo optimizacin 50 6.2 algoritmo gentico 52 6.3 lote transaccin mnir 56 6.4 observación 58 conclusión 60 a. cdigo fuente markowitz.r 62 b. cdigo fuente algoritmo gentico modelo m-v 69 c. cdigo fuente ag costo entero 73 bibliografa 78 1   ndice figura 2.1 rendimiento esperado vs desviacin estndar ab = 1 5 2.2 rendimiento esperado vs desviacin estndar ab = 1 6 2.3 rendimiento esperado vs desviacin estndar ab = 0 7 2.4 rendimiento esperado vs desviacin estndar forma general 8 2.5 conjunto oportunidad generado 100.000 combinación portafolio acción 9 2.6 conjunto oportunidad forma general 10 3.1 tipo bsico función utilidad x > 0 13 3.2 grfica dispersin empresa 17 3.3 conjunto oportunidad 18 3.4 10.0000 portafolio aleatorio conjunto oportunidad 19 3.5 portafolio varianza mnimo 21 3.6 portafolio riesgo 23 3.7 portafolio riesgo 24 3.8 portafolio riesgo alto 26 3.9 precio abat nvda stec 2005-2007 27 3.10 ajuste frontera eficiente 28 4.1 grfica dispersin empresa semidesviacin 32 4.2 conjunto oportunidad semidesviacin 33 4.3 portafolio riesgo mnimo alto 38 4.4 ajuste frontera eficiente m-s 39 5.1 pseudocdecir algoritmo gentico simple 41 5.2 rendimiento esperado desviacin estndar portafolio variar   46 5.3 convergencia algoritmo gentico 48 5.4 frontera eficiente algoritmos gentico 49 6.1 convergencia algoritmo gentico 54 6.2 frontera eficiente algoritmo gentico costo transaccin 55 6.3 convergencia algoritmo gentico lote 57 6.4 efecto aumentar tamao lote costo transaccin 58 2   captulo 1 introduccin importancia bolsa valor ir aumento constituir alternativo financiamiento empresa gobierno as alternativa inversin as bolsa considerar mercado financiero reflejar situacin real economa indicador ocurrir afectar economa pas subida bajado precio acción casualidad responder situación especfica marcar tendencia precio utilizar modelo estadstico seleccin portafolio cumplir necesidad inversionista requerir elemento permitir tomar decisin maximizar ganancia mnimo riesgo necesario instrumento tcnica invertir bolsa valor serie teora conformar portafolio inversin poseer hiptesis ventaja desventaja objetivo obtener rendimiento estudio estadstico teora seleccin portafolio remontar él markowitz 10 trabaj problema seleccin portafolio utilizar criterio media-varianza slo periodo tiempo criterio seleccin establecera base teora moderno portafolio tmp usar estudiar e.g 1 modelo markowitz propsito determinar combinacin ptimo acción programacin cuadrtico requerir cantidad clculo nmero acción utilizado aumentar combinación posible crecer rpidamente as creci dcada 80 desarrollo potencia disponibilidad computadora ayudado modelo matemtico problemtica cmputo necesario modelo markowitz estudio tema continuar as aparecer modelo alternativo presentar simplificación modelo original modelo ndice simple william sharpe 1963 tambin aparecer tcnica bsqueda solución modelo matemtico as aos 70 john henry holland desarrollar rama inteligencia artificial llamado algoritmo genticos1 bsicamente mtodo computacional basado probabilidad encontrar aproximar solución problema optimizacin presente trabajo abordamos captulo teora moderna portafolio permitir entender cmo administrar rendimiento riesgo proporcionar criterio seleccin conjunto opción captulo revisamos teora modelo markowitz as aplicacin bolsa valor crear portafolio inversin nivel riesgo permitirn observar comportamiento futuro modelo 1las simulación computadora evolucin comenzar 1954 nil aall barricelli 1957 alex fraser public serie documento simulacin seleccin artificial simulacin evolucin ms comn dcada 1960 mtodo utilizado describir libro fraser burnell 1970 crosby 1973 simulacin fraser incluir elemento esencial algoritmo gentico algoritmo gentico popularizar trabajo holland particularmente libro adaptation in natural and artificial systems 1975 3   aproximacin prctico mtodo seleccin portafolio inversin arxiv tercer captulo abordar modelo medida alternativa riesgo modelo clsico markowitz comparar resultado obtenido modelo captulo captulo cuarto manejar teora algoritmo gentico optimizacin especficamente inclusin restricción adicional modelo markowitz beneficio desventaja conllevar as problema complejo ltimo quinto captulo generar modelo agregar restricción costo transaccin lote modelo markowitz as obtener portafolio ms prctico cumplir restricción mercado necesario utilizar algoritmo gentico dar él solucin modelo generamos cdigo programacin permitir dar él solucin finalidad comprender modelo resultado obtenido investigacin poder fcilmente reproducido estudiado desear concluir cul comportamiento instrumento bolsa valor determinar eficiencia as capaz utilizar modelo inversin real texto dirigir individuo base estadstica buscar familiarizar él prctica modelo emplear construccin seleccin portafolio inversin accesible desear explorar modelo ms sofisticado estn comenzar camino campo presentar nivel adecuado estudiante cursar carrera relacionado matemtica computacin 4   captulo 2 teora portafolio mercado valor empresa invertir cuyo cotización constantemente fluctar diverso motivo teora portafolio seleccin portafolio ptir proporcionar rendimiento1 nivel riesgo mnimo riesgo dar nivel rendimiento teora portafolio suponer caracterstica fundamental determinar comportamiento inversionista accin2 portafolios3 rendimiento ganancia proporcional inversin riesgo fluctuación rendimiento inversionista tomar decisión considerar parmetro rendimiento futuro acción inversionista querr pronosticar rendimiento tendrn prximo periodo inversin abordar problema markowitz rendimiento acción variable aleatorio obtener valor esperado varianza as combinacin lineal varianza rendimiento esperado medida rentabilidad riesgo respectivamente utilizarer esperar él relacin intrnseco rendimiento riesgo accin-portafolio considerar inversionista razonable averso riesgo decisin inclinar conjunto acción proporcionar alto rendimiento mnimo riesgo considerar finalidad teora portafolio proporcionar criterio decisin bsicos encontrar opción satisfacer objetivo inversionista 2.1 rendimiento esperado portafolio tasa rendimiento accin i variable aleatoria definido ri portafolio combinacin activo financiero ganancia venir dado ganancia aportar elemento deducir rendimiento portafolio rp rp = w1r1 + w2r2 +     + wnrn = n x i=1 wiri 2.1 n nmero activo componer portafolio wi proporcin invertido activo i pn i=1 wi = 1 tambin considerar portafolio combinacin lineal variable aleatorio rendimiento promedio ponderado rendimiento valor individual componer 1sea pt precio valor periodo t rendimiento t definir rt = pt pt1 1 ganancia proporcional periodo t 2las acción parte igual empresa dividir capital social adquirir acción empresa entender él dueo sta menor medida 3se llamar cartera portafolio inversin conjunto activo financiero poseer individuo institucin comnmente acción bono 1   aproximacin prctico mtodo seleccin portafolio inversin arxiv propsito manejar notacin ms prctico escribir 2.1 notacin matricial rp = n x i=1 wiri = w1 w2     wn    r1 r2 rn   = wr 2.2 valor esperado rendimiento portafolio p = e(rp = e(w1r1 +     + wnrn = w1e(r1 +     + wne(rn = n x i=1 wie(ri = n x i=1 wii 2.3 forma p = e(rp = e(wr = we(r = w 2.4 i valor esperado rendimiento accin i   vector compuesto i. as rendimiento esperado portafolio promedio ponderado rendimiento esperado componer 2.2 varianza portafolio determinar varianza portafolio deber utilizar definicin trmino valor esperado4 2 p = v rp = v   n x i=1 wiri =     n x i=1 wiri   n x i=1 wie(ri 2   =     n x i=1 wi[ri e(ri 2   =     n x i=1 wi[ri e(ri    n x j=1 wj[rj e(rj      =    n x i=1 n x j=1 wiwj[ri e(ri)][rj e(rj    = n x i=1 n x j=1 wiwje([ri e(ri)][rj e(rj = n x i=1 n x j=1 wiwjcov(ri rj = n x i=1 n x j=1 wiwjij 2.5 ij covarianza rendimiento activo i j. 4si x variable aleatorio v x = e[(x e[x])2 2   aproximacin prctico mtodo seleccin portafolio inversin arxiv notacin matricial obtenemos expresin resultar prctico representar riesgo portafolio 2 p = w1 w2     wn    11 12     1n 21 22     2n n1 n2     nn      w1 w2 wn   = ww   matriz covarianza rendimiento definicin semidefinir positiva5 mostrar   positivo definido 6 distinto rendimiento igual linealmente independiente green 1986 mcentire 1984 ntesir 2.5 escribir él 2 p = n x i=1 n x j=1 wiwjij = n x i=1 w2 i 2 i + x i = j wiwjij 2.6 2 i varianza activo i. expresin observar separar parte varianza portafolio depender varianza rendimiento accin depender correlación seccin punto importante considerar momento seleccionar portafolio mnimo riesgo 2.3 correlacin activo coeficiente correlacin activo i j definir ij = ij ij 1 ij 1 principal caso interesar estudiar hablar coeficiente correlacin   correlacin activo ij = 1 i = j rendimiento activo i poseer correlacin perfectamente positivo activo j forma aumentar rendimiento tambin determinado proporcin   correlacin activo ij = 1 i = j implicar rendimiento activo i poseer correlacin perfectamente negativo rendimiento crecer decrecir   correlacin activo cero ij = 0 i = j correlacin rendimiento deducir comportamiento activo adems reescribir varianza 2.6 sustituir covarianza trmino correlacin obtener 2 p = n x i=1 w2 i 2 i + x i = j wiwjij = n x i=1 w2 i 2 i + x i = j wiwjijij 2.7 expresin analticamente til coeficiente correlacin var 1 1 ms fcil observar comportar riesgo portafolio dar correlacin activo componer suponer varianza fijo observar correlacin distinto activo cero ij = 0 i = j riesgo portafolio pn i=1 w2 i 2 i corresponder riesgo portafolio correlacionado caso eliminar componente riesgo definicin varianza negativo componente riesgo 2.7 negativo signo depender nicamente correlacin activo as riesgo disminuir correlación distinto activo negativa riesgo portafolio menor activo estn correlacionado negativamente 5una matriz simtrico semidefinir positivo xax 0 vector x = 0 6una matriz simtrico definir positivo xax > 0 vector x = 0 3   aproximacin prctico mtodo seleccin portafolio inversin arxiv forma ms intuitiva apreciar pensar activo correlacin negativo rendimiento bajo subir forma posibilidad prdida menor riesgo portafolio tambin evidente importancia correlacin reduccin riesgo portafolio 2.4 conjunto oportunidad portafolio portafolio dado7 proporción inversin activo generar rendi- miento esperado varianzas generar conjunto elección medio desviacin estndar8 p1 p1 p2 p2 llamar conjunto oportunidad representar posible portafolio inversionista decidir graficar conjunto forma depender nmero activo componer portafolio as correlacin venta corto9 tambin influir forma grfica conjunto oportunidad planteamiento original establecer permitir venta corto supondr 2.4.1 conjunto oportunidad portafolio acción lograr comprender comportamiento conjunto oportunidad portafolio utilizar ejemplo portafolio ms pequeo portafolio acción b < b e(ra < e(rb interesar describir forma conjunto oportunidad situación   ab = 1 rendimiento esperado desviacin estndar portafolio usar 2.3 2.7 p = n x i=1 wie(ri = wae(ra + 1 wa)e(rb = wa e(ra e(rb + e(rb 2.8 2 p = n x i=1 w2 i 2 i + x i = j wiwjijij = w2 a2 + 1 wa)22 b + 2wa(1 wa)abab = w2 a2 + 2wa(1 wab)ab + 1 wa)22 b = waa + 1 wa)b)2 p = waa + 1 wa)b 2.9 describir rendimiento trmino desviacin estndar proporcin inversin wa despejar 2.9 wa = p b b sustituir 2.8 p = wa e(ra e(rb + e(rb = p b b e(ra e(rb + e(rb = p e(ra e(rb b b e(ra e(rb b + e(rb 7suponeir fijo coeficiente correlacin rendimiento esperado varianza valor 8al desviacin estndar raz cuadrado varianza sta tambin medida asociado riesgo cualquiera hablar riesgo portafolio 9los venta corto consistar venta ttulo poseer necesario comprar posteriormente cumplir venta 4   aproximacin prctico mtodo seleccin portafolio inversin arxiv funcin corresponder ecuacin recta ax+b pendiente e(ra)e(rb ab as incremento b desviacin estndar incrementar rendimiento esperado portafolio e(ra e(rb figurar 2.1 rendimiento esperado vs desviacin estndar ab = 1 figura 2.1 observar claramente comportamiento riesgo relacin rendimiento portafolio adems extremo recta corresponder portafolio formado nicamente b.   ab = 1 nuevamente determinar rendimiento esperado desviacin estndar p = wa e(ra e(rb + e(rb 2.10 2 p = n x i=1 w2 i 2 i + x i = j wiwjijij = w2 a2 + 1 wa)22 b + 2wa(1 wa)abab = w2 a2 2wa(1 wa)ab + 1 wa)22 b = waa 1 wa)b)2 waa + 1 wa)b)2 p = waa 1 wa)b waa + 1 wa)b 2.11 obtenar wa = p + b + b wa = b p + b sustituir 2.10 surgir recta p1 = wa e(ra e(rb + e(rb 5   aproximacin prctico mtodo seleccin portafolio inversin arxiv = p + b + b e(ra e(rb + e(rb = p e(ra e(rb + b + b e(ra e(rb + b + e(rb p2 = wa e(ra e(rb + e(rb = b p + b e(ra e(rb + e(rb = p e(ra e(rb + b + b e(ra e(rb + b + e(rb figurar 2.2 rendimiento esperado vs desviacin estndar ab = 1 figura 2.2 describir comportamiento rendimiento frente desviacin estndar correlacin activo negativo nuevamente portafolio formado b encontrar extremo observir segmento recta combinar activo disminuir riesgo llegar cero aumentar rendimiento efecto llamar diversificacin detalle ms   ab = 0 cero correlacin componente riesgo eliminar forma ecuación rendimiento riesgo p = wa e(ra e(rb + e(rb 2.12 2 p = n x i=1 w2 i 2 i + x i = j wiwjijij = w2 a2 + 1 wa)22 b 2.13 6   aproximacin prctico mtodo seleccin portafolio inversin arxiv obtenemos wo = 2 b   q 2p(2a + 2 b 2a2 b 2a + 2 b sustituir 2.12 p = wa e(ra e(rb + e(rb = 2 b   q 2p(2a + 2 b 2a2 b 2a + 2 b e(ra e(rb + e(rb =   q 2p(2a + 2 b 2a2 b e(ra e(rb 2a + 2 b + 2 b e(ra e(rb 2a + 2 b + e(rb comportamiento rendimiento correlacin activo cero mostrar figura 2.3 ver él stir describir curva presentar segmento riesgo disminuir rendimiento aumentar variar proporción activo as portafolio mnimo riesgo poseer rendimiento portafolio conformado nicamente activo a. figurar 2.3 rendimiento esperado vs desviacin estndar ab = 0 informacin describir caso general comportamiento rendimiento portafolio acción obtener variar proporción inversin nivel correlacin activo as grfica figura 2.4 representar caso general grfica linea representar conjunto oportunidad nivel correlacin ver él extremo encontrar portafolio formado nicamente activo b adems rendimiento estn perfectamente correlacionado ab = 1 formar recta implicar conjunto portafolio riesgo cambio 1 < ab < 1 formar curva ms pronunciado depender coeficiente correlacin tener mnimo rendimiento estn inversamente 7   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 2.4 rendimiento esperado vs desviacin estndar forma general correlacionado ab = 1 formar recta intersectar p = 0 punto portafolio mnimo riesgo as tringulo generado grfica establecer podrar llamar frontera conjunto oportunidad portafolio 2.4.2 conjunto oportunidad ms acción grfica conjunto oportunidad acción encontrar forma general ste obtener curva recta nivel rendimiento portafolio slo generar combinacin activo componer asimismo proporcin activo generar varianza portafolio necesariamente nico conjunto oportunidad ms valor generar rea razn rendimiento portafolio obtener ms combinacin lineal ejemplo acción b c rendimiento = 1.0 b = 2.0 c = 3.0 p = 0.5)a + 0.0)b + 0,5)c = 0,5)(1 + 0.0)(2 + 0.5)(3 = 2.0 = 0.0)a + 1.0)b + 0.0)c = 0.0)(1 + 1,0)(2 + 0.0)(3 = 2.0 simulacin r10 proporcionar conjunto oportunidad mostrar figura 2.5 as trazar lnea horizontal observar ciento combinación otorgar rendimiento riesgo conjunto oportunidad portafolio encontrar lmit mnimo mximo rendimiento esperado activo componer 10100.000 combinación lineal proporción inversin aleatoria generado portafolio acción gspc dell aapl ibm msft intc utilizar periodo 2004-01-01 2007-01-01 8   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 2.5 conjunto oportunidad generado 100.000 combinación portafolio acción m = max{e(ri)|i = 1     n m = mn{e(ri)|i = 1     n 2.14 e(rp m m forma general conjunto oportunidad derivar superficie slida-curvo producto unin serie parbola forma salto plieguir pasar grfica conjunto oportunidad variar enormemente utilizarer figura 2.5 general conjunto oportunidad factible ayudar marcar fcilmente caracterstica presentar ste 2.5 frontera eficiente figura 2.6 mostrar conjunto oportunidad observar él mencion anteriormente portafolio nivel rendimiento varianza forma curva abc conocer conjunto oportunidad varianza mnima proporcionar varianza mnimo rendimiento desviacin estndar mnima inversionista actitud frente riesgo ms averso ste conjunto oportunidad varianza mnimo necesariamente presentar portafolio ms apropiado razn introducir concepto portafolio eficiente portafolio eficiente varianza asociado rendimiento esperado e(rp mnima posible portafolio proporcionar rendimiento dar varianza 2 p rendimiento esperado mximo posible portafolio varianza principio tambin conocer eficiencia criterio media-varianza palabra portafolio eficiente ningn portafolio b conjunto oportunidad 9   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 2.6 conjunto oportunidad forma general e(rb e(ra 2 b 2 as curva ab representar conjunto portafolio eficiente tambin llamado frontera eficiente punto b portafolio mnimo riesgo punto mximo rendimiento inversionista elegirn nicamente portafolio encontrar frontera eficiente conjunto encontrar portafolio ms deseable aumento rendimiento implicar penalizacin riesgo encontrar especificado criterio ms importante seleccin portafolio conjunto oportunidad manejar est compuesto nicamente activo riesgoso caso incluir activo renta fija11 est contemplado principal inters acción adems incorporacin modelo fcil realizar12 11la renta fijo referir inversión conocer anticipacin rendimiento proporcionar activo ejemplo renta fijo bono cuenta ahorro renta variable inversión rendimiento obtendrer caso acción 12la inclusin activo libre riesgo afectar clculo varianza portafolio slo considerar wi involucrar activo riesgoso clculo rendimiento utilizar activo 10   captulo 3 modelo media-varianza recordar suponar inversionista racional preferir alto rendimiento averso riesgo as nivel rendimiento inversionista escoger portafolio minimizar riesgo llamado eficiencia criterio media-varianza ms especficamente portafolio eficiente nivel rendimiento portafolio menor riesgo rendimiento nivel riesgo portafolio rendimiento menor riesgo conjunto portafolio eficiente llamado frontera eficiente inversionista tendr preferencia rendimiento riesgo tomar hablar preferencia exacto elección tomar debern frontera eficiente as modelo markowitz consistir principalmente dividir proceso seleccin portafolio paso determinar conjunto portafolio eficiente despus inversionista escoger conjunto portafolio cumplir preferencia paso unir problema programacin matemtica1 cuyo objetivo maximizar rendimiento minimizar riesgo permitir satisfacer medida preferencia inversionista 3.1 markowitz programacin cuadrticar forma plantear solucin modelo markowitz maximizar rendimiento nivel riesgo minimizar riesgo nivel rendimiento mtodo   mximo nivel riesgo inversionista est dispuesto aceptar formulacin problema programacin matemtico maximizar e(wr 3.1 s.a   ww   w1 = 1 w 0 w 0 interpretar wi 0 i = 1     n. adems desigualdad   ww   definir conjunto convexo variable w restricción restante lineal w. problema optimizacin funcin lineal conjunto convexo mtodo minimizar riesgo nivel rendimiento formulacin minimizar ww 3.2 1debido permitir venta corto wi 0 i = 1     n utilizar mtodo programacin matemtico forma utilizar multiplicador lagrange resolver modelo markowitz 11   aproximacin prctico mtodo seleccin portafolio inversin arxiv s.a e(wr   w1 = 1 w 0   rendimiento mnimo inversionista est dispuesto aceptar funcin objetivo ww funcin cuadrticar convexa restricción lineal problema programacin cuadrtico forma minimizar x + 1 2xdx s.a ax    x1 = 1 x 0 matriz d semidefinir positivo   vector aparecer funcin cuadrtico minimizar matriz definir constante minimizar funcin cuadrtico x vector solucin desconocido minimizar funcin cuadrtico restricción proporcionada as modelo markowitz   = 0 matriz funcin cuadrticar minimizar   = e(r 1 2ww funcin minimizar lugar ww evidentemente solucin w minimizar ambos función modelo programacin cuadrtico 3.2 utilizarer seleccionar portafolio criterio media-varianza 3.2 utilidad criterio media-varianzo decisión tomado mercado valor involucrar riesgo seleccionar portafolio mximo rendimiento decisin ms apropiado inversionista buscar mximo rendimiento esperado jams escoger portafolio diversificado actitud inversionista frente riesgo involucrar elección portafolio explicacin situacin utilizar teora utilidad criterio mximo utilidad esperado modelo markowitz asumir conocer distribucin rendimiento rendimiento portafolio cuantificar valor esperado riesgo varianza har parecer markowitz simplemente presentar as modelo justificacin general introduccin varianza presentar aproximacin cuadrtico funcin utilidad general funcin utilidad funcin real medir satisfaccin utilidad obtenido bien servicio as teora utilidad individuo poseer preferencia conjunto alternativa dicho preferencia expresar él funcin utilidad caracterstica funcin utilidad creciente derivada cumplir desigualdad x > 0 riesgo tipo bsico función utilidad mostrar figura 3.1   x < 0 significar incremento funcin utilidad menor funcin cncava cncair abajo funcin representar inversionista averso riesgo incremento igual riqueza funcin utilidad recordar rendimiento est altamente correlacionado riesgo incremento satisfaccin utilidad menor   x = 0 significar crecimiento funcin utilidad constante grfica recta funcin representar inversionista indiferente riesgo nivel satisfaccin obtener directamente proporcional riqueza obtener 12   aproximacin prctico mtodo seleccin portafolio inversin arxiv   x > 0 significar incremento funcin utilidad funcin convexo cncair funcin representar inversionista adicto riesgo incremento igual riqueza funcin utilidad incremento satisfaccin figurar 3.1 tipo bsico función utilidad x > 0 modelo markowitz funcin utilidad funcin cuadrtica2 est dado = u(rp = rp ar2 p 3.3 > 0 rp   1 2a utilidad esperado e(u(rp = e(rp ar2 p = e(rp ae(r2 p = e(rp  2 p + e(rp)2 = e(rp ae(rp)2 a2 p 3.4 ntesir utilidad esperado 3.4 interpretar él funcin rendimiento portafolio penalizar riesgo mismo3 portafolio mximo utilidad esperado necesariamente rendimiento depender aversin riesgo inversionista stir proporcionalmente ms portafolio elegir portafolio rendimiento riesgo matemticamente modelar conducta inversionista racional funcin utilidad prctica conocer funcin utilidad inversionista inversionista preferencia similar función utilidad sern similar as adecuar establecer criterio 2esta funcin ver él ecuacin 3.3 corresponder funcin utilidad cncavo representar inversionista averso riesgo 3la variable representar proporcin desear penalizar riesgo 13   aproximacin prctico mtodo seleccin portafolio inversin arxiv eficiencia m-v determinar conjunto opción eficiente frontera eficiente inversionista determinar satisfacer preferencia criterio media-varianza asumir inversionista tendr funcin utilidad cuadrtico defecto funcin cncair distribucin elptica4 rendimiento ejemplo distribucin normal funcin utilidad cncair 1952 markowitz public artculo asumir funcin utilidad no-cncava5 3.3 medida alternativo tendencia central media nombre tcnico simple promedio as media serie dato llamar promedio media variable aleatorio llamar valor esperado recorder media variable aleatorio centro gravedad definido funcin densidad variable aleatorio considerar variable aleatorio rendimiento empresa ri consiguiente rendimiento portafolio rp valor esperado rendimiento esperado medida dnde valor rendimiento estn centrado medida centralidad adems media depender caracterstica dato distribucin probabilidad ms adecuado anlisis principal medida tendencia central   media media medida adecuado conjunto dato relativamente homogneo forma varianza pequeo medio medida representativo poblacin   mediana mediana medida apropiado dato valor extremo caso rendimiento pequeo afectar considerablemente medida media afectar mediana medida 50 probabilidad asociar nmero menor igual ste 50 est asociado valor mayor igual   moda moda valor aparecer probabilidad caso continuo valor mximo funcin densidad medida ms adecuado dato encontrar agrupado zona especifico rango valor medida tendencia central generar mejor portafolio eficiente ntesir distribución probabilidad normal medida sitar punto criterio decisin media-varianza mediana-varianza moda-varianza generar conjunto eficiente portafolio tambin cambiar él medida utilizado riesgo modelo markowitz ejemplo probabilidad prdida semivarianza ultimo tema abordar captulo slo utilizarer media rendimiento esperado medida rendimiento portafolio propsito probar opción presentado mostrar distinto mtodo construccin optimizacin portafolio caracterstica funcionamiento variación resultado ventaja desventaja 3.4 aplicar modelo markowitz aplicacin modelo considerar 95 empresa importancia mercado valor elegir relacin media-varianza periodo anlisis comprender enero 2005 diciembre 2007 caracterstico comn empresa estudiar cotizar ao 20026 analizar comportamiento modelo emplear intervalo temporal aos 2005 2007 crisis econmico 2008 comparado ao reciente dato 20052007 presentar entorno distorsionado poltica monetaria extremo tipo inters bajo expansin cuantitativo influir fuertemente mercado 2008 permitir evaluacin ms claro mecanismo 4markowitz mostrar caso criterio m-v tambin adecuar 5markowitz h.m 1952b the utility of wealth journal of political economy 60 151-156 6consideramos deseable 3 aos cotizacin bolsa precio empresa estabilicir marquen tendencia relativamente confiable 14   aproximacin prctico mtodo seleccin portafolio inversin arxiv subyacente mercado estn afectado intervención externo masivo adems influencia evento disruptivo global pandemia covid-19 dato anterior 2008 anlisis enfocar patrón clsico mercado distorsin introducido fenmeno masificacin trading algortmico criptomoneda digitalizacin acelerado trading cambiar dinmica mercado ao reciente enfoque particularmente valioso buscar evaluar capacidad subyacente modelo predecir dinmica tradicional mercado posteriormente modelo podra mostrar mejor resultado realista esperar crecimiento acelerado experimentar mercado ao 2009 empresa utilizar 1 airtran holding inc 2 apple inc 3 advancedir battery technologies 4 arca biopharmo inc 5 ambac financial group inc 6 aluminum corporation of chinar 7 axceli technologi inc 8 adobe systems 9 americar international group 10 aar corp 11 atp oil gas corporation 12 abraxas petroleum corporation 13 bank of america corporation 14 blockbuster inc 15 best buy 16 bank of new york mellon corp 17 citigroup inc 18 cisco systems inc 19 cell therapeutics inc 20 e.i du pont nemours 21 dell 22 walt disney company 23 dendreon corporation 24 dow chemical company 25 ford motor company 26 federal home loan mortgage 27 general electric company 28 ho yo depot inc 29 honeywell international inc 30 hewlett-packard 31 intuitivir surgical inc 32 jds uniphase corporation 33 johnson johnson 34 juniper networks inc 35 kellogg company 36 keycorp 37 krispy kreme doughnuts inc 38 kinder morgan energy partners 39 coca-cola 40 loews corporation 41 laboratory corporation of americo 42 eli lilly and company 43 macys inc 44 mattel 45 massey energy company 46 new m&i corporation 47 3 m 48 altrio group inc 49 merck company inc 50 marathon oil corporation 51 microsoft 52 nike 53 nokia 54 nvidia corporation 55 new york community bancorp 56 telecom corporation 57 realty income corporation 58 oracle corporation 59 occidental petroleum 60 palm inc 61 pepsico 62 pfizer inc 63 procter gamble company 64 potash corporation 65 petrochina 66 qualcomm incorporated 67 powershar exchange-traded 68 quantum corporation 69 quantum fuel systems 70 ritir aid corporation 71 regions financial corporation 72 research in motion limited 73 u.s concrete inc 74 sprint nextel corporation 75 sirius xm radio inc 76 stec inc 77 at&t 78 toyota motor corporation 79 time warner inc 80 texa instrument incorporated 81 vodafonar 82 verizon communications inc 83 walmart 84 united stat steel corporation 85 exxon mobil corporation 86 xerox 87 alleghany corporation 88 yahoo 89 yrc worldwide 90 yum brands 91 zions bancorporation 92 zix corporation 93 zale corporation 94 zoltek companies 95 quiksilver 15   aproximacin prctico mtodo seleccin portafolio inversin arxiv objetivo detrs anlisis empresa modelo markowitz obtener portafolio proyectir expectativa rendimiento periodo enero-diciembre 2007 utilizarer rendimiento 2005 2006 crear portafolio utilicer 20077 base dato constar precio cierre diario ajustados8 adj.close 95 empresa caso empresa operar determinado fecha s utilizar precio cierre ajustado inmediatamente as empresa 503 observación corresponder precio cierre ajustado 2005-2006 encontrar archivo llamarer prices-2005-2006.csv  usaremos paquete estadstico r cdigo programado archivo markowitz.r apndice a9 3.4.1 dispersin grfica importante dispersin desviacin estndar rendimiento esperado empresa mostrar relacin individual riesgo rendimiento empresa compondrn futuro portafolio importamos precio guardamo variable priz prices<-read.table(prices-2005-2006.csv header = t sep= obtener rendimiento guardamo r r<-assetsreturn(priz graficar plot sqrt(diag(var(r colmeans(r xlab="desviacin estndar ylab="rendimiento esperado resultado ver él figura 3.2 mostrar empresa desviacin estndar similar sta rendimiento esperado forma empresa nivel similar rendimiento riesgo tambin observar él relacin riesgo-rendimiento forzoso aceptar riesgo encontrar empresa rendimiento caso empresa rendimiento igualmente poseer riesgo hablar trmino matemtico rendimiento esperado empresa podra desear varianza pequeo cero vida real rendimiento empresa normalmente distribuirn forma habr ganancia prdida tamao sern necesario incremento tamao rendimiento empresa stir periodo tiempo traducir varianza as realidad encontrarer estrecho relacin rendimiento riesgo activo 3.4.2 conjunto oportunidad frontera eficiente conjunto oportunidad grfica importancia observar claramente comportar riesgo diversificacin frontera eficiente qu nivel rango rendimiento convenir moverno grfica obtener leer archivo función markowitz.r source(markowitz.r importamos precio guardamo variable priz prices<-read.table(prices-2005-2006.csv header = t sep= obtener rendimiento guardamo r 7consideramos adecuar utilizar doble informacin futuro proyectar caso construir portafolio ao 2007 utilizar ao rendimiento informacin previo 2005 2006 mostrar comportamiento rendimiento esperar futuro 8yahoo reportar precio cierre ajustado corregir motivo split dividendo 9se desarrollar cdigo especifico modelo abordado investigacin adaptar fcilmente distinto necesidad ejemplo permitir venta corto utilizar él biblioteca fportfolio r trabajo ms completo portafolio consultar cdigo 16   aproximacin prctico mtodo seleccin portafolio inversin arxiv figura 3.2 grfica dispersin empresa r<-assetsreturn(priz objeto portafolio medida riesgo var pf<-newportfolio(r graficar conjunto oportunidad plotportfolio(pf resultado mostrar figura 3.3 negro denotar valor rendimientos-desviación estndar diario gris anual curva encontrar grfica representar posible combinación portafolio conformado empresa curva conjunto varianza mnima10 curir abc contendrn conjunto oportunidad portafolio lmit conformado curva relacin grfica dispersin sobreponer conjunto oportunidad vrtiz conformar unión curva corresponder portafolio empresa desviacin estndar rendimiento grfica dispersin frontera eficiente presentar curva bc observar punto riesgo crecer rpidamente conforme aumentar rendimiento seleccionarer portafolio curva estudiar comportar futuro figura 3.4 conjunto oportunidad 100 000 portafolio aleatorio portafolio encontrar cruzar curva lugar corresponder mayor combinación portafolio ms denso probabilidad aparecer zona grfica obtener sentencia 10el conjunto varianza mnima conjunto portafolio menor varianza nivel rendimiento 17   aproximacin prctico mtodo seleccin portafolio inversin arxiv figura 3.3 conjunto oportunidad plotportfolio(pf points=100000 3.4.3 portafolio varianza mnimo obtener portafolio varianza mnima utilizamos modelo programacin cuadrtico ignorar rendimiento minimizar ww 3.5 s.a w1 = 1 w 0 encontrar portafolio programa utilizamos encontrar portafolio varianza mnimo almacenar resultado p p < markowitzportfolio pf imprimir pantalla contenido p print p er = rendimiento esperado sd = desviacin estndar weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call 18   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 3.4 10.0000 portafolio aleatorio conjunto oportunidad markowitzportfolio(pobject = pf $ er 1 0.0004407315 $ sd 1 0.004236929 $ weights 1 0.0000 0.0000 0.0018 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0041 0.0000 0.0000 0.0000 0.0243 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 31 0.0000 0.0000 0.1172 0.0000 0.1176 0.0000 0.0000 0.1558 0.0117 0.0000 41 0.0735 0.0183 0.0000 0.0000 0.0000 0.0000 0.0000 0.0265 0.0000 0.0000 51 0.0162 0.0370 0.0000 0.0000 0.0196 0.0606 0.0000 0.0000 0.0000 0.0000 61 0.1333 0.0000 0.0000 0.0000 0.0013 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0000 0.0000 0.0000 0.0004 0.0000 0.0310 0.0000 0.0157 0.0000 81 0.0000 0.0000 0.0138 0.0000 0.0000 0.0000 0.1202 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio abat_adj.c él él bac_adj.c él él c_adj.c él él jnj_adj.c él él k_adj.close 0.0018 0.0041 0.0243 0.1172 0.1176 kmp_adj.c él él ko_adj.c él él lh_adj.c él él lly_adj.c él él mo_adj.c él él 0.1558 0.0117 0.0735 0.0183 0.0265 msft_adj.c él él nke_adj.c él él nyb_adj.c él él nzt_adj.c él él pep_adj.c él él 0.0162 0.0370 0.0196 0.0606 0.1333 19   aproximacin prctico mtodo seleccin portafolio inversin arxiv ptr_adj.c él él siri_adj.c él él t_adj.c él él twx_adj.c él él wmt_adj.c él él 0.0013 0.0004 0.0310 0.0157 0.0138 y_adj.c él él 0.1202 forma portafolio varianza mnima rendimiento esperado diario 0.000440 p$er=0.0004407315 502 rendimiento periodo 2006-2007 considerar 251 rendimiento ao as calculamos rendimiento esperado anual 11.0 p$er*251=0.1106236 portafolio varianza mnimo rendimiento obtendrer 2007 portafolio utilizar archivo precio cierre ajustado 95 empresa periodo prices-2008.csv constar 251 observación 250 rendimiento importamos precio 2007 guardamo variable prices2 prices2 < read.table(prices-2007.csv header = t sep= obtener rendimiento guardamo r2 r2 < assetsreturn(prices2 producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.0004532749 print r 250 1 1 0.1133187 as portafolio varianza mnimo obtenemos rendimiento 11.3 2007 r*250=0.1133187 cercano 11.0 proyectar confor yo resultado modelo markowitz portafolio graficar conjunto oportunidad comando graficar portafolio rendimiento er desviacin estndar sd plotportfolio(pf er = p$er sd = p$sd resultado mostrar figura 3.5 portafolio varianza mnima intersectar recta vertical horizontal punto menor riesgo frontera eficiente frontera eficiente comprender curva punto portafolio varianza mnimo portafolio mximo rendimiento empresa asignar proporcin inversin portafolio varianza mnima kinder morgan energy partners kmp 15.5 pepsico pep 13.3 alleghany corporation 12 johnson johnson jnj kellogg company k 11.7 riesgo portafolio caso pequeo rendimiento tambin inversionista podra preferir inversión renta fijo proporcionar rendimiento cercano riesgo11 3.4.4 especificar rendimiento anteriormente ver portafolio varianza mnima conocer antemano rendimiento esperado tendr rendimiento pequeo mayora ocasión deseable resolver problema optimizacin especificar rendimiento desear lmit ecuacin 2.14 modelo solucin 11por ejemplo 2007 cet ofrecer rendimiento anual 7 opcin inversionista aversin riesgo 20   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 3.5 portafolio varianza mnima seleccionarer nivel rendimiento trabajarer 1 riesgo 2 riesgo 3 riesgo alto nivel escoger conforme modelo optimizacin 5.1 verir ms   factor aversin riesgo variar   obtener portafolio riesgo asociado nivel rendimiento portafolio riesgo portafolio utilizarer 0002 rendimiento esperado diario desear ver él nivel rendimiento curva frontera eficiente crecer rpidamente desviacin estndar encontrar portafolio varianza mnimo rendimiento deseado almacenar resultado p p < markowitzportfolio pf 0002 imprimir pantalla contenido p print p er = rendimiento esperado sd = desviacin estndar weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf eret = 0002 $ er 1 0002 $ sd 1 0.01006362 21   aproximacin prctico mtodo seleccin portafolio inversin arxiv $ weights 1 0.0000 0.0780 0.0208 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0196 11 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.1085 31 0.0394 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.1092 41 0.0377 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0147 0.0515 0.0489 51 0.0000 0.0000 0.0000 0.0467 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.0000 0.0000 0.0000 0.0000 0.2882 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0078 0.0000 0.0000 0.0000 0.0865 0.0426 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio aapl_adj.c él él abat_adj.c él él air_adj.c él él hpq_adj.c él él isrg_adj.c él él 0.0780 0.0208 0.0196 0.1085 0.0394 l_adj.c él él lh_adj.c él él mo_adj.close mrk_adj.c él él mro_adj.c él él 0.1092 0.0377 0.0147 0.0515 0.0489 nvda_adj.close ptr_adj.c él él rimm_adj.c él él stec_adj.close t_adj.c él él 0.0467 0.2882 0.0078 0.0865 0.0426 portafolio rendimiento esperado diario 0002 p$er=0.002 fijar obtenemos rendimiento esperado anual 50.2 p$er*251=0.502 periodo 2005-2006 calcular rendimiento 2007 producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.001646671 print r 250 1 1 0.4116678 portafolio obtener rendimiento anual 41.1 r*250=0.4116678 inversin 2007 rendimiento diario r=0.001646 expectativa 50.2 rendimiento obtuvimos representar 82 originalmente planeamos comportarn futuro rendimiento empresa ste resultado figura 3.6 mostrar grfica portafolio conjunto oportunidad plotportfolio(pf er = p$er sd = p$sd empresa conformar portafolio ms relevant petrochina ptr 28.8 inversin capital loews corporation l 10.9 hewlett-packard hpq 10.8 caso obtuvimos portafolio riesgo comparacin genero rendimiento suficiente inversionista nicamente buscar incrementar rendimiento ahorro portafolio riesgo caso utilizarer rendimiento esperado diario 0004 ste frontera eficiente zona equilibrio rendimiento-desviacin estndar riesgo nivel rendimiento empezar crecer rpidamente punto rendimiento media mximo obtener desviacin estndar menor punto sta encontrar portafolio utilizamos 22   aproximacin prctico mtodo seleccin portafolio inversin arxiv figura 3.6 portafolio riesgo encontrar portafolio varianza mnimo rendimiento deseado almacenar resultado p p < markowitzportfolio pf 0004 imprimir pantalla contenido p print p er = rendimiento esperado sd = desviacin estndar weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf eret = 0004 $ er 1 0004 $ sd 1 0.052987 $ weights 1 0.0000 0.0000 0.3265 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 31 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 41 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 51 0.0000 0.0000 0.0000 0.4550 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 23   aproximacin prctico mtodo seleccin portafolio inversin arxiv 71 0.0000 0.0000 0.0000 0.0000 0.0000 0.2185 0.0000 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio abat_adj.c él él nvda_adj.c él él stec_adj.close 0.3265 0.4550 0.2185 elegir rendimiento esperado 0004 portafolio generado rendimiento esperado anual 100.4 p$er*251=1.004 periodo 2005-2006 producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.003903566 print r 250 1 1 0.9758916 rendimiento anual 2007 portafolio 97.5 inversin rendimiento diario r=0.003903 resultado cercano deseado portafolio mostrar figura 3.7 plotportfolio(pf er = p$er sd = p$sd figurar 3.7 portafolio riesgo 24   aproximacin prctico mtodo seleccin portafolio inversin arxiv portafolio riesgo est conformado slo empresa requerir empresa mayor rendimiento menor cantidad rendimiento nvidia nvda representar 45.5 inversin advancedir battery technologies abat 32.65 stec stec 21.85 aqu observar riesgo portafolio constar empresa proporcin inversin importante tener problema futuro inversin podra ver él afectado forma importante portafolio riesgo alto utilizarer rendimiento esperado diario 0006 sto rendimiento anual 150.6 rendimiento dar portafolio conformado prcticamente slo empresa anlisis tipo tendrar sentido ver él grfica conjunto oportunidad nivel rendimiento riesgo alto encontrndo él ltimo tercio rango encontrar portafolio varianza mnimo rendimiento deseado almacenar resultado p p < markowitzportfolio pf 0006 imprimir pantalla contenido p print p er = rendimiento esperado sd = desviacin estndar weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf eret = 0006 $ er 1 0006 $ sd 1 0.1247029 $ weights 1 0.0000 0.0000 0.7971 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 31 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 41 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 51 0.0000 0.0000 0.0000 0.2029 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio abat_adj.c él él nvda_adj.c él él 0.7971 0.2029 caso portafolio conformado principalmente advancedir battery technologies abat 79.71 20.29 nvidia nvda inversin realizar abat empresa rendimiento esperado 0.006855 portafolio constar slo empresa est extremo frontera eficiente acercar producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 25   aproximacin prctico mtodo seleccin portafolio inversin arxiv 1 1 0.008331887 print r 250 1 1 2.082972 portafolio obtener rendimiento anual 2007 208.2 inversin ms esperbar resultado engaoso rendimiento portafolio afectar medida slo abat futuro definir tambin portafolio variabilidad rendimiento empresa caso aumentar rendimiento portafolio considerablemente haber él disminuir proporcin ste precisamente riesgo portafolio alto rendimiento general empresa abat rendimiento varianza alto representar proporcin significativo portafolio poder observar comportamiento presentar rendimiento prdida incertidumbre decisin depender aversin riesgo ltimo observar grfica portafolio aparecer figura 3.8 plotportfolio(pf er = p$er sd = p$sd figurar 3.8 portafolio riesgo alto 3.4.5 precio comprender ltimos portafolio apreciar figura 3.9 grfica precio cierre diario ajustados12 empresa componer abat nvda stec periodo 2005-2007 12yahoo enero 1 2005 diciembre 31 2007 26   aproximacin prctico mtodo seleccin portafolio inversin arxiv portafolio riesgo nvda representar proporcin 45.5 inversin grfica precio notar poseer tendencia ms acentuado cambio brusco as empresa menor riesgo rendimiento tambin describir portafolio portafolio riesgo alto stec aparecer empresa constituir portafolio menor rendimiento abat asignar 79.71 inversin representar portafolio poseer alto rendimiento riesgo alto ver él grfica precio ltimo ao creci rpidamente comparacin ao razn obtuvimos rendimiento esperbar portafolio figurar 3.9 precio abat nvda stec 2005-2007 3.4.6 calidad anlisis ms cercano resultado proporcionar modelo real modelo as forma anlisis comparar rendimiento esperado portafolio frontera eficiente rendimiento realmente proporcionar similar hacer anteriormente comparar portafolio frontera eficiente utilizamos comando comparativo rendimiento esperado obtuvir efficientfrontierfit(pf r2 diario error error sub-estimacin 0.0009241558 0.0003265892 anual error error sub-estimacin 0.22997690 0.08396657 27   aproximacin prctico mtodo seleccin portafolio inversin arxiv resultado mostrar figura 3.10 eje x rendimiento esperado diario proporcionar modelo media-varianzo periodo 2005-2006 gris anual eje rendimiento obtenido 2007 portafolio construido anteriormente evidentemente ajustar grfica par rendimiento recta = x comportar modelo conjunto dato actual caso grfica cercano recta x = 0.004 despus alejar ms aumentar presencia abat variable portafolio confiable conforme aumentar riesgo funcin efficientfrontierfit devolver valor error medir diferencio promedio rendimiento esperado obtenido error sub-estimacin proporcionar diferencio promedio caso rendimiento obtenido menor esperado valor sern especialmente til comparacin modelo seleccin portafolio estudio obtener error estimacin rendimiento anual 23 promedio diferencia 0.23 rendimiento esperado obtenido error 0.08 caso consigui rendimiento menor esperado notar modelo markowitz especialmente eficiente empresa conformar portafolio elegido varar futuro tendencia definido suceder seleccionar portafolio riesgo grfica obtener él terminar periodo estudio permitir calidad anlisis referencia conformar portafolio grupo empresa empresa caracterstica similar futuro figurar 3.10 ajuste frontera eficiente 28   aproximacin prctico mtodo seleccin portafolio inversin arxiv 3.5 caracterstica modelo modelo markowitz base teora moderno portafolio tmp cuyo principal caracterstico simplicidad facilidad implementacin modelo objetivo simplificar markowitz ejemplo reducir cmputo necesario caso modelo ndice simple sharpe 1963 slo requerir clculo 3n + 2 parmetro 3(95 + 2 = 287 lugar modelo markowitz requerir clculo matriz covarianza presentar n(n+1 2 parmetro caso 95(95 + 1 2 = 4560 cmputo actual mtodo solucin problema programacin cuadrtico modelo markowitz resultado inmediato ejemplo optimizacin portafolio componer 500 empresa solucionar él par segundo slo equipo comn caracterstica destacar modelo markowitz   modelo markowitz asumir mercado perfecto costo transaccin proporción inversin empresa infinitamente divisibl compra venta prdida capital comprar nmero cualquiera acción empresa proporcin inversin suceder mercado adquirir él lotes13   criterio determinar conjunto portafolio eficiente concuerdar teora utilidad funcin utilidad inversionista cuadrticar defecto funcin utilizad cncava rendimiento distribuir normalmente   modelo markowitz est inversin slo periodo esttico modificar dinmico as operación compra-venta maximicir funcin utilizad periodo inversin problema mencionado abordar siguiente captulo dar él solucin 13se denominar lote cantidad mnimo ttulo comnmente intercambiar transaccin bmv lote integrar 100 ttulo ttulo precio 200 pesos lote componer 5 acción 29   captulo 4 modelo media-semivarianza tcnica anlisis portafolio estn altamente relacionado modelo media-varianza modelo caracterstica conveniente frecuentemente ignorar causa diferencia modelo markowitz complejidad modelo media-semivarianza emplear medida alternativa riesgo modelo comnmente utilizar complicacin clculo semivarianza algoritmo optimizacin captulo abordamos modelo enfoque heurstico permitir dar él solucin forma modelo media-varianza 4.1 planteamiento modelo markowitz publicacin 1959[11 favorecer medida riesgo varianza semivarianza rendimiento semivarianza definir valor esperado cuadrado desviación negativo positivo valor crtico seleccionado inversionista generalmente medio cero r variable aleatorio rendimiento empresa semivarianza est definido sb = e(min{r b 0}2 b punto crtico seleccionado inversionista as semivarianza conjunto dato calcular él sb = 1 t p t(rt b)2 rt b rt rendimiento observado periodo tiempo r = 1     t. ntesir semivarianza medida similar varianza diferencia slo incluir suma cuadrado rendimiento desempeo menor deseado markowitz argumentar criterio media-semivarianza m-sb tender producir mejor portafolio basado criterio media-varianza m-v varianza valor extremo alto bajo indeseabl anlisis basado varianza eliminar extremo anlisis basado semivarianza sb centrar reducir prdida prdida b realidad inversionista preocupar ms sub-desempeo sobre-desempeo inversin semivarianza medida ms apropiado representar riesgo portafolio distribucin rendimiento sta simtrico semivarianza caso b = e(r equivalente varianza v = 2   se(r desviación encontrar media tambin encontrar situacin criterio m-v m-se(r producir conjunto portafolio eficiente clculo semivarianza portafolio markowitz sugerir utilizar expresin 2 pb = n x i=1 n x j=1 wiwjsijb 4.1 30   aproximacin prctico mtodo seleccin portafolio inversin arxiv sijb = 1 t k x t=1 rit b)(rjt b periodo 1 k portafolio rendimiento menor b t nmero periodo definicin semivarianza portafolio proveer ventaja estimacin exacto ventaja medida riesgo tambin desventaja principalmente semivarianza requerir cmputo clculo anlisis basado varianza slo necesario calcular media matriz covarianza variable exgena anlisis basado semivarianza requerir distribucin conjunto rendimiento semivarianza medida depender proporción inversin rendimiento variable endgena sta medida var depender proporción conformar portafolio convertir criterio media-semivarianza modelo optimizacin requerir algoritmo complejo manejo solucin estrada[2 sugerir aproximacin semivarianza valor crtico b definir 2 pb   n x i=1 n x j=1 wiwjijb 4.2 ijb = e[min(ri b 0   min(rj b 0 = 1 t t x t=1 min(rit b 0   min(rjt b 0 aproximacin proporcionar matriz fijo simtrico semicovarianza exgena permitir solucionar modelo programacin cuadrtico modelo media-varianza minimizar w   pbh   w 4.3 s.a e(wr   w1 = 1 w 0 as determinar frontera eficiente conocido modelo media-varianza 4.2 aplicar modelo media-semivarianzo implementacin modelo realizar cdigo proporcionado archivo markowitz.r apndice a. comparar resultado modelo obtenido captulo 4.2.1 dispersin caso dispersin semidesviación raz cuadrado semivarianza rendimiento conveniencia utilizar valor crtico cero b = 0 leer archivo función markowitz.r source(markowitz.r importamos precio guardamo variable priz prices<-read.table(prices-2005-2006.csv header = t sep= 31   aproximacin prctico mtodo seleccin portafolio inversin arxiv obtener rendimiento guardamo r r<-assetsreturn(priz graficamo scov funcin markowitz.r plot sqrt(diag(scov(r colmeans(r xlab="semi-desviacin ylab="rendimiento esperado figurar 4.1 grfica dispersin empresa semidesviacin resultado ver él figura 4.1 diferencia ms notable modelo media-varianza m-v dato encontrar disperso caso modelo media-semivarianza m-s grfica presentar valor extremo riesgo rendimiento modelo m-v dato parecer concentrar él pequeo rango riesgo modelo m-s dato distribuir posible valor diferencia presentar semivarianza medida riesgo ms discriminaste ver varianza valor media forma semivarianza valor b ste 4.2.2 conjunto oportunidad frontera eficiente conjunto oportunidad grfica importancia observar ms claramente comportar riesgo diversificacin frontera eficiente nivel rango rendimiento convenir moverno grfica obtener leer archivo función markowitz.r source(markowitz.r importamos precio guardamo variable priz prices<-read.table(prices-2005-2006.csv header = t sep= obtener rendimiento guardamo r 32   aproximacin prctico mtodo seleccin portafolio inversin arxiv r<-assetsreturn(priz objeto portafolio medida riesgo svar pf<-newportfolio(r risk="svar graficar conjunto oportunidad plotportfolio(pf figurar 4.2 conjunto oportunidad semidesviacin resultado1 mostrar figura 4.2 negro denotar valor rendimientos-semidesviación estndar diario gris anual nuevamente sobreponer grfica dispersin conjunto oportunidad observar relacin vrtiz conformar unión curva corresponder portafolio empresa presente grfica dispersin notar él diferencia importante forma conjunto oportunidad modelo m-v existir dispersin modelo m-s producir conjunto oportunidad ms amplio 4.2.3 portafolio semivarianza mnimar portafolio semivarianza mnimo portafolio mnimo riesgo frontera eficiente obtener él comando encontrar portafolio semivarianza mnimo almacenar resultado p p < markowitzportfolio pf imprimir pantalla contenido p 1debe observar él semivarianza medida riesgo realizar travs orden pf<-newportfolio(r risk = svar definir objeto portafolio 33   aproximacin prctico mtodo seleccin portafolio inversin arxiv print p er = rendimiento esperado sd = semidesviacin weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf $ er 1 0.0004402566 $ sd 1 0.00365887 $ weights 1 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0045 0.0000 0.0000 0.0000 0.0260 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 31 0.0000 0.0000 0.1409 0.0000 0.1527 0.0000 0.0000 0.1592 0.2432 0.0000 41 0.0297 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 51 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.1652 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0204 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0581 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio bac_adj.c él él c_adj.c él él jnj_adj.c él él k_adj.close kmp_adj.c él él 0.0045 0.0260 0.1409 0.1527 0.1592 ko_adj.c él él lh_adj.c él él pep_adj.c él él t_adj.c él él y_adj.c él él 0.2432 0.0297 0.1652 0.0204 0.0581 rendimiento esperado diario obtener portafolio semivarianza mnima generado rendi- miento esperado anual menos2 11.05 ver él rendimiento esperado anual cercano modelo m-v 11.06 portafolio generado m-s ms simple rendimiento obtendrer 2007 utilizar importamos precio 2007 guardamo variable prices2 prices2 < read.table(prices-2007.csv header = t sep= obtener rendimiento guardamo r2 r2 < assetsreturn(prices2 producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.0005892042 print r 250 1 1 0.1473011 2en modelo castigamos sub-desempeo decir rendimiento esperado esperar obtener 34   aproximacin prctico mtodo seleccin portafolio inversin arxiv as portafolio semivarianza mnimo obtener rendimiento 14.7 2007 ligeramente esperbar obtuvimos modelo m-v modelo m-s intencin castigar sub-desempeo sobrepasar rendimiento esperado est necesariamente relacionado posibilidad ganancia rendimiento esperado transforme prdida resultado portafolio empresa asignar proporcin inversin coca-cola ko 24.32 pepsico pep 16.52 kinder morgan energy partners kmp 15.92 kellogg company k 15.27 johnson johnson jnj 14.09 4.2.4 especificar rendimiento as modelo m-v nuevamente utilizar nivel rendimiento relacin riesgo 1 riesgo 2 riesgo 3 riesgo alto as comparar portafolio obtenido anteriormente portafolio riesgo 0002 rendimiento esperado diario desear obtener rendimiento esperado anual 50.2 igualmente m-v nivel rendimiento presentar frontera eficiente zona semidesviacin crecer rpidamente relacin rendimiento encontrar portafolio semivarianza mnimo rendimiento deseado almacenar resultado p p < markowitzportfolio pf 0002 imprimir pantalla contenido p print p er = rendimiento esperado sd = semidesviacin weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf eret = 0002 $ er 1 0002 $ sd 1 0.007577653 $ weights 1 0.0000 0.0216 0.0541 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0942 31 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.2675 41 0.0595 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 51 0.0000 0.0000 0.0000 0.0278 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.0000 0.0000 0.0000 0.0000 0.3359 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0000 0.0000 0.0000 0.0000 0.0533 0.0861 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio aapl_adj.c él él abat_adj.c él él hpq_adj.c él él l_adj.c él él lh_adj.c él él 0.0216 0.0541 0.0942 0.2675 0.0595 nvda_adj.close ptr_adj.c él él stec_adj.close t_adj.close 0.0278 0.3359 0.0533 0.0861 producto cruzado proporción portafolio 2005-2006 35   aproximacin prctico mtodo seleccin portafolio inversin arxiv rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.001585825 print r 250 1 1 0.3964562 rendimiento anual obtenido 2007 39.6 inversin encontrar expectativa 50.2 obtener 78.8 originalmente planear resultado cercano obtenido modelo m-v 41.1 anual empresa conformar portafolio ms simple m-v ms relevant petrochina ptr 33.59 loews corporation l 26.75 hewlett-packard hpq 9.42 igualmente empresa ms representativo portafolio modelo m-v ah similitud resultado portafolio riesgo caso rendimiento esperado diario utilizar 0004 rendimiento anual 100.4 similarmente frontera eficiente modelo m-v zona equilibrio rendimiento- semidesviacin encontrar portafolio semivarianza mnimo rendimiento deseado almacenar resultado p p < markowitzportfolio r 0004 imprimir pantalla contenido p print p er = rendimiento esperado sd = desviacin estndar weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf eret = 0004 $ er 1 0004 $ sd 1 0.01970659 $ weights 1 0.0000 0.0000 0.3536 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 31 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 41 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 51 0.0000 0.0000 0.0000 0.1756 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.0000 0.0000 0.0000 0.0000 0.3292 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0000 0.0000 0.0000 0.0000 0.1416 0.0000 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio abat_adj.c él él nvda_adj.c él él ptr_adj.c él él stec_adj.c él él 0.3536 0.1756 0.3292 0.1416 36   aproximacin prctico mtodo seleccin portafolio inversin arxiv producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.004252065 print r 250 1 1 1.063016 ver él obtenemos 2007 rendimiento esperado rendimiento anual 106.3 resultado cercano esperado diferencia ms importante portafolio m-v inclusin petrochina ptr tambin participacin importante portafolio riesgo portafolio riesgo alto portafolio riesgo alto utilizamos rendimiento esperado diario 0006 rendimiento anual 150.6 periodo 2005-2006 ver él frontera eficiente nivel rendimiento riesgo alto comparacin portafolio encontrar portafolio varianza mnimo rendimiento deseado almacenar resultado p p < markowitzportfolio pf 0006 imprimir pantalla contenido p print p er = rendimiento esperado sd = semidesviacin weights = proporción compra empresa portfolio = identificador empresa comprarer acción proporcin compra $ call markowitzportfolio(pobject = pf eret = 0006 $ er 1 0006 $ sd 1 0.03857378 $ weights 1 0.0000 0.0000 0.7983 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 11 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 21 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 31 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 41 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 51 0.0000 0.0000 0.0000 0.1272 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 61 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 71 0.0000 0.0000 0.0000 0.0000 0.0000 0.0745 0.0000 0.0000 0.0000 0.0000 81 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 91 0.0000 0.0000 0.0000 0.0000 0.0000 $ portfolio abat_adj.c él él nvda_adj.c él él stec_adj.c él él 0.7983 0.1272 0.0745 37   aproximacin prctico mtodo seleccin portafolio inversin arxiv producto cruzado proporción portafolio 2005-2006 rendimiento esperado 2007 r < p$weights colmeans(r2 print r 1 1 0.008144225 print r 250 1 1 2.036056 nuevamente portafolio est conformado principalmente advancedir battery technologies abat 79.83 12.72 nvidia nvda comparacin resultado modelo m-s incluir tambin stec stec 7.45 participacin proporcin abat portafolio evidente empresa rendimiento adems nico 0006 rendimiento esperado diario resultado necesario rendimiento anual obtenemos 2007 203.6 igualmente modelo m-v sobrepasamos esperado resultado obtenido travs modelo m-s ligeramente menor m-v menciono sobrepasar rendimiento esperado resultado caracterstica semivarianza medida riesgo necesariamente sto rendimiento adicional obtenido caso asumir riesgo obtener rendimiento abat representar proporcin inversin poseer riesgo riesgo prdida tambin presente general portafolio obtenido modelo m-v alejar rendimiento esperado ltimo observar él figura 4.3 grfica conjunto oportunidad portafolio anterior ntesir encontrar frontera eficiente figurar 4.3 portafolio riesgo mnimo alto 38   aproximacin prctico mtodo seleccin portafolio inversin arxiv 4.2.5 calidad anlisis caracterstica semivarianza comparacin grfica rendimiento esperado realmente obtuvimos anlisis est representado recta superpuesto = x   funcin contradominio encontrar x. comparar grfica error obtenida modelo m-v mejora ajuste = x. comparativo rendimiento esperado obtuvir efficientfrontierfit(pf r2 diario error error sub-estimacin 0.0008587857 0.0003173200 anual error error sub-estimacin 0.21296826 0.08160426 figurar 4.4 ajuste frontera eficiente m-s grfica obtenido similar modelo m-v diferencia ms importante alejar ms lentamente recta = x modelo m-v apreciar él comparar error ambos promedio diferencia rendimiento esperado obtenido modelo m-v error 0.23 modelo m-s 0.213 error reducir 7 utilizar modelo m-s modelo m-s ms cercano recta = x. error sub-estimacin proporcionar promedio diferencia rendimiento esperado e(rp obtenido rp e(rp > rp modelo m-v poseer valor 0.0839 m-s 0.0816 error sub-estimacin reducir 2.8 as modelo media-semivarianza mostrar producir promedio mejor portafolio modelo media-varianza 39   captulo 5 algoritmo gentico naturaleza frecuentemente enfrentar diverso complicado problema sta solución eficiente actualizad rama ciencia biomimtica1 encargar buscar solución problema necesidad humano basndo él modelo naturaleza algoritmo gentico ag mtodos bsqueda adaptativo inspirado naturaleza ms especficamente basar proceso gentico evolutivo ser vivo algoritmo usar encontrar solución problema optimizacin mtodo bsqueda adecuado problema complejo requerir solucin darwin 1859 postul generación población evolucionar conforme principio seleccin natural imitacin proceso algoritmo gentico capaz encontrar solución problema mundo real seleccionar mejor funcin adaptacin simulación computadora comenzar 1975 holland describir principio algoritmo gentico tal 5.1 principio algoritmo gentico algoritmo gentico poderoso tcnico optimizacin tratar xito variedad problema rea mtodo dificultad garantizar algoritmo encontrar ptimo global generar solución cercano ste tiempo competitivo algoritmo combinatorio convergir ptimo global conforme aumentar nmero generación proceso bsico algoritmo gentico constar generar poblacin inicial posible solución seccionarn mejor funcin adaptacin posteriormente definir proceso evolucin producir candidato solucin idea combinar solución adaptacin alto obtener mejor solución individuo valor adaptacin tendrn ms probabilidad reproducir él combinacin producir poblacin posible solución tambin incluir él proceso mutacin modificar azar solucin candidato permitir explorar espacio solución as acercarno ptimo global as proceso repetir algoritmo convergar solucin despus nmero generación forma algoritmo gentico ganar popularidad permitir eficiencia relacin tiempo ejecucin algoritmo tradicional bsqueda permitir resolver problema altamente complejo tcnica determinado resolver problema optimizacin probable superar algoritmo gentico tiempo eficiencia campo algoritmo gentico est relacionado problema tcnica especializado solucin 1la biomimtica imitar vida plantear naturaleza millón aos solucionar problema eficiente ensayo error forma lugar resolver problema cero estudiar resolver naturaleza as ser vivo termita ave inspirar tecnologa eficiente sistema ventilacin edificio ala avin impulsor hlice basado molusco etc. 40   aproximacin prctico mtodo seleccin portafolio inversin arxiv 5.1.1 algoritmo gentico simple algoritmo gentico poseer proceso seleccin cruce mutacin operador importancia desempeo algoritmo idea proceso figura 5.1 presentar pseudocdigo ag simple begin generar poblacin aleatorio inicial posible solución calcular valor funcin adaptacin funcin objetivo individuo poblacin inicial while not convergencia do begin producir generacin for tamao poblacin/2 do begin reproduccin seleccionar individuo generacin probabilidad proporcional valor adaptacin mutar individuo cruzar cumplir condicin probabilidad cruzar individuo insertar descendiente generacin end if individuo cambiar generación thir reportar individuo adaptacin and exit end end figura 5.1 pseudocdigo algoritmo gentico simple explicacin pseudocdigo 1 generar poblacin inicial aleatorio solución posible tamao n. 2 calcular valor adaptacin individuo poblacin 3 tomar aleatoriamente individuo poblacin probabilidad seleccin proporcional valor adaptacin calculado punto 2 4 repetir punto generar poblacin tamao n. 5 cruce mutar individuo par seleccionado cumplir condicin especfico probabilidad 6 utilizar poblacin creer poblacin n mejor individuo ultima población 7 nuevamente calcular valor adaptacin individuo poblacin 8 seleccionar individuo poblacin despu nmero generacio- nes alcanzar nmero mximo generación detener proceso contrario regresar punto 3 esperar tipo operación realizar algoritmo gentico cruz mutación representacin individuo venir dado codificacin as codificacin capaz modificar él representar solución posible caracterstica importante ag funcin adaptacin determinar proceso evolucin caracterstica solucin seleccionar ptimo funcin seleccionar correctamente contrario estarer resolver problema distinto realidad resolver seccin present ag simple forma elaborar ag segn distinto elemento componer ver ms detalle caracterstica conformar ag variación 41   aproximacin prctico mtodo seleccin portafolio inversin arxiv 5.1.2 codificacin solucin individuo simbolizar cromosoma cromosoma est representado codificacin especial elemento gen codificacin individuo capaz representar caracterstica posteriormente manipularla tipo bsico codificación utilizar   codificacin binario codificacin gen caracterstico est representado 0 1 individuo est compuesto cadena binario ejemplo 11010001 gen representar presencia ausencia caracterstica individuo   codificacin entero codificacin entero aplicar caracterstica individuo requerir representar él forma ejemplo 4 gen rango 1-3 ltir 4 1-6 representar caracterstica valor numrico individuo 13211563   codificacin real aqu gen est representado nmero real codificacin necesario caracterstica individuo requerir rango decimal valor ejemplo proporcin as individuo 1 2 1 3 2 3 5 6 9 10 1 9 ejemplo problema codificacin suponer 10 empleado repartirlo 4 rea distinto aumentar productividad caso gen representar nmero empleado rea solucin 3322 notar combinación 2343 solucin suma 10 representación usar segn tipo nmero caracterstica requerir representar general utilizar codificacin ejemplo letra funcin adaptacin capaz evaluar cdigo seleccionado 5.1.3 funcin adaptacin utilizar algoritmo gentico problema optimizacin funcin adaptacin ag funcin objetivo problema optimizacin maximizar f(x nivel adaptacin f(x caso problema minimizacin minimizar g(y utilizar maximizar g(y problema equivalente asociar alto valor funcin objetivo adaptacin caso funcin objetivo funcin adaptacin construir él forma individuo posear caracterstica ms deseable buscar tengan valor adaptacin ejemplo restricción modelo posibilidad generar individuo cumplir estas2 funcin objetivo asignar menor valor individuo cumplir restricción desechar generación 5.1.4 operacin seleccin operacin seleccin constar escoger individuo reproducirn prxima generación forma operacin seleccin escoger reproduccin individuo favorecer adaptado incluir menor probabilidad individuo adaptado forma preservamos generación mejor caracterstica individuo adaptado permitirn mantener grado diversidad poblacin caracterstica adicional podrn producir mejor solución forma sto asignar individuo xi probabilidad forma p(xi = f(xi p i f(xi f(xi valor adaptacin individuo xi posteriormente definimos g(xi g(xi = pi j=0 p(xi p(x0 = 0 ltimo generamos nmero aleatorio r uniforme 0 1 r g(xi1 < r g(xi seleccionarer xi operacin cruce forma seleccin consistir ponderar probabilidad cruce individuo aumentar disminuir probabilidad seleccin individuo adaptado ms elitista elitista llevar yo ptimo local 2en general generar individuo cumplir restricción modelo solucin ms confiable convergencia algoritmo ms rpida 42   aproximacin prctico mtodo seleccin portafolio inversin arxiv depender proporcin poblacin querar substituir generacin seleccionarer n /2 pares individuo operacin cruzamiento n nmero individuo obtendremos despu cruce 5.1.5 operacin cruzamiento operacin seleccin recibirer solución cruzar generar solucin punto cruce elemento codificacin intercambiar gen solución padre elegir él azar utilizar punto as padre combinar cromosoma generar individuo ejemplo empleado repartido 4 rea individuo cruzar 1243 2134 utilizar cruzar punto mitad gen padre individuo generado 1234 2143 forma individuo caracterstica combinado ntesir operacin cruzamiento solución generado satisfacer restricción modelo solución 2242 3232 cruzamiento generar 2232 3242 solución factible suma empleado 10 caso ag contar operacin correccin individuo ejemplo solucin 3232 corregir tratar mantener proporción ms posiblemente parecido as solucin corregido 3222 incorporar poblacin 5.1.6 operacin mutacin operacin mutacin constar modificacin aleatorio gen solucin operacin hacer él individuo cruzar despus cruzamiento correccin solucin realizar probabilidad operacin cruzamiento generar nmero aleatorio uniforme rm 0 1 rm < p p probabilidad mutacin efectar operacin mutacin as mutacin solucin 1234 2234 cambiar gen 2 despus correccin tener solucin 2233 vista operador mutacin parecer vital importancia operacin asegurar ningn punto espacio bsqueda probabilidad cero examinar forma operacin mutacin permitir explorar espacio solucin sta ag podra converger ptimo local caracterstica agregar ag consistir aumentar probabilidad mutacin conforme crecer nmero generación poblacin ms homogneo generacin mutacin permitir saltar mejor solución 5.1.7 restricción problema optimizacin frecuentemente contener restricción incluir algoritmo gentico mtodo principal consistir asignar penalizacin funcin adaptacin individuo cumplir restricción establecido forma solución violar restricción sern eliminado generación generacin solución cumplir restricción lento algoritmo requerir tiempo ejecucin convergencia mtodo consistir generar mecanismo correccin mencionar operacin cruzamiento mecanismo permitir generar solución aleatorio poblacin inicial as ste mtodo ms adecuado cumplir restricción ag tendr comportamiento ms eficiente 5.1.8 tamao poblacin tamao poblacin trabajemos especialmente importante pequeo posibilidad cubrir adecuadamente espacio bsqueda poblacin converger rpidamente direccin ptimo local contrariamente poblacin procesamiento poblacin significar costo cmputo 43   aproximacin prctico mtodo seleccin portafolio inversin arxiv empricamente observar tamao poblacin n = n n nmero gen cromosoma nmero caracter requerimos codificar solucin problema tamao poblacin explorar individuo valor gen n < 30 utilizarer n = 30 considerar tamao poblacin mnimo efectivo 5.1.9 poblacin inicial poblacin inicial generalmente aleatorio ocasión poblacin inicial seleccionado expl- citamente permitir convergencia ms rpida algoritmo ejemplo utilizar solución cumplir caracterstico deseado poblacin inicial similar sto tambin llevar yo convergencia prematura algoritmo dar resultado ptimo local evitar sto incrementar probabilidad mutacin mencionir permitir alcanzar ptimo global 5.1.10 reemplazo poblacin reemplazo poblacin seguir mtodo provocarar velocidad convergencia ag caso usar menor grado mutacin evitar convergencia ptimo local forma reemplazo poblacin   generar solucin cruce mutacin sta colocar independientemente valor adaptacin poblacin eliminado resultado menor valor adaptacin generacin crear nmero solución menor poblacin   mtodo reemplazo utilizar generacin reemplazar completamente mtodo ms utilizado abrir diversidad generación convergencia lento   ms elitista seleccin unir poblacin eliminar resultado valor adaptacin menor individuo adaptado permanecer generación mtodo requerir aumento mutacin diversidad resultado decae rpidamente general reemplazo elemento poblacin hacer él creer conveniente problema utilizar mtodo permitir diversidad población 5.1.11 criterio parada algoritmo gentico crear generación indefinidamente determinar criterio permitir detener proceso   valor promedio adaptacin poblacin generacin diferenciar 1 valor obtenido considerar poblacin convergir detener ag   despus nmero generación mejora miembro poblacin adaptacin detener proceso bsqueda   definir nmero mximo generación m conocer antemano poblacin convergar k < m. general combinacin tcnica condicin parada poblacin convergar ptimo mejora resultado detener algoritmo caso contrario parar él despu cumplir mnimo nmero generación reportar resultado convergencia poblacin temporal nmero generación reviser observar mejora importante suficientemente 30 generación 5.1.12 ventaja desventaja ventaja algoritmo gentico bsicamente mtodo bsqueda frente algoritmo bsqueda heurstico funcionar principalmente espacio solucin dimensión ptir local algoritmo fallar ag escapar ptir local función objetivo complejo ejemplo condición valor tipo 44   aproximacin prctico mtodo seleccin portafolio inversin arxiv as operación cruce mutacin determinar solucin valor adaptacin as combinar él caracterstica forma solucin irar buscar ventaja importante algoritmo gentico necesario especificar detalle problema cuestin solución potencial evaluar funcin adaptacin representar problema desear resolver seleccionar solución generación valor adaptacin as ag producir resultado ingeniera ag encontrar solucin priori haber desechar persona ag encargar explorar ventaja ag capacidad manipular parmetro simultneamente necesario definir problema vida real principal desventaja ag venir dado representacin problema codificacin solución funcin adaptacin definido codificacin incorrecto cruzo podra darno resultado aleatorio sentido malo seleccin funcin adaptacin llevar resolver problema desventaja solucin examinacin adecuado cuidadoso problema ltimo desventaja necesidad definir adecuadamente parmetro ag tamao poblacin probabilidad mutacin reemplazo determinar valor parmetro variarlo observar comportar algoritmo mayora caso valor parmetro encontrarn rpidamente 5.2 algoritmo gentico modelo media-varianza seccin presentar algoritmo gentico obtener portafolio eficiente criterio media- varianzo mostrar efectividad algoritmo gentico comparar resultado obtenido programacin cuadrtico resultado ag modelo 3.2 visto captulo 3 definimos rendimiento deseado variar él obtener frontera eficiente alternativa modelo 3.2 minimizar 1 ww e(wr 5.1 s.a w1 = 1 w 0 0   1 modelo 5.1 incluir rendimiento portafolio funcin objetivo forma minimizar riesgo maximizar rendimiento parmetro   considerar medida aversin riesgo   = 0 portafolio varianza mnima representar aversin riesgo   = 1 portafolio mximo rendimiento representar menor aversin adiccin ste os utilizar valor   construir frontera eficiente anteriormente obtenido 3.2 facilidad programacin utilizarer modelo 5.1 algoritmo gentico desarrollar seccin problema resolver ag optimizacin definicin elemento ste inmediato   codificacin valor desear determinar ag w vector proporción capital invertido empresa as codificacin posible solución vector poder operación cruce mutacin fcilmente correccin w i = wi/ p i wi cumplir restriccin w1 = 1   funcin adaptacin funcin objetivo problema optimizacin interesar relacionar valor alto funcin adaptacin utilizarar f(w = e(wr   1 ww problema maximizacin   tamao poblacin tamao poblacin utilizarer 94 nmero empresa = 95 par operación cruce generar solución par poblacin conformado mejor solución generacin 45   aproximacin prctico mtodo seleccin portafolio inversin arxiv caracterstica ms importante definir ag implementar cruzamiento seleccionar punto aleatorio cruce mutacin consistir cambiar aleatoriamente proporcin inversin wi algn i tambin aleatorio poblacin inicial generar azar cumplir restriccin w 0 proporcin generado wi variable aleatorio distribuido uniformemente u(0 1 cdigo r correspondiente algoritmo gentico apndice b representado funcin galambdaportfolio equivalentemente funcin lambdaportfolio apndice solucin modelo 5.1 programacin cuadrtico hacer comparacin mtodo solucin   = 0.5 punto relacin riesgo-rendimiento relacin lineal valor   seleccionado realidad rango rendimiento riesgo localizacin depender forma frontera eficiente caso   = 0.5 proporcionar rendimiento adecuado escaso riesgo comportamiento apreciar él figura 5.2 nmero generación utilizarn ag m = 300 figurar 5.2 rendimiento esperado desviacin estndar portafolio variar   solucin programacin cuadrtico pf = objeto portafolio lambdaportfolio(pf lambda=0.5 $ er 1 0.002934608 $ sd 1 0.02111648 $ portfolio abat_adj.c él él isrg_adj.c él él nvda_adj.c él él ptr_adj.close stec_adj.close 0.1017 0.1031 0.3060 0.2623 0.2269 46   aproximacin prctico mtodo seleccin portafolio inversin arxiv algoritmo gentico solucin algoritmo gentico pf = objeto portafolio m = nmero generación galambdaportfolio(pf lambda=0.5 m=300 $ er 1 1 0.002915660 $ sd 1 1 0.02094783 $ portfolio aapl_adj.c él él abat_adj.c él él isrg_adj.c él él nvda_adj.c él él ptr_adj.c él él 0.0213 0.1013 0.0928 0.3008 0.2518 stec_adj.close 0.2211 observar solucin obtenido algoritmo gentico cercano ptimo global programacin cuadrtico pc proporcionar portafolio rendimiento esperado diario 0.002934 ag 0.002915 desviacin estndar portafolio pc reporto 0.021116 ag 0.020947 tambin composicin portafolio ambos solución similar diferencia ag incluir apple aapl portafolios3 as algoritmo gentico proporcionar solucin cercano ptimo global slo 300 generación funcin galambdaportfolio tambin devolver grfica convergencia poblacin presentar figura 5.3 grfica convergencia adaptado suceder generacin 100 existir mejora iteración posterior sexto proceso rpido crecimiento adaptacin solución despus aparecer convergencia temporal ltimo salto ptimo alcanzo algoritmo salto posterior convergencia generalmente causar mutacin aqu importancia slo utilizar cruzamiento ptimo vera altamente afectado poblacin inicial tiempo ejecucin algoritmo gentico utilizado corto apreci diferencia mtodo programacin cuadrtico inmediato ltimo comparacin resultado algoritmo gentico programacin cuadrtico graficir frontera eficiente obtenido pc gris ag negro 500 generación punto resultado mostrar figura 5.4 graficar frontera eficiente programacin cuadrtico plot(lambdafrontier(pf xlab="desviacin estndar ylab="rendimiento esperado type="l col = c("gray algoritmo gentico lines(galambdafrontier(pf 500 type="l apreciar él diferencia ambos frontera prcticamente imperceptible especialmente extremo aparentar lneo as algoritmo gentico programado proporcionar solución cercano ptimo global conclusin algoritmo gentico tcnica aproximacin ptimo global problema difcil solucionar mtodo determinista til prximo captulo 3en portafolio generado ag slo presentar empresa proporcin inversin wi > 0.005 empresa inversión insignificante 0.0001 47   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 5.3 convergencia algoritmo gentico mtodo optimizacin abordar problema resolver utilizar ste general algoritmo gentico ms lento solucin proporcionado mtodo optimizacin 48   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 5.4 frontera eficiente algoritmos gentico 49   captulo 6 costo transaccin restricción entero captulo 2 mencionar principal debilidad modelo markowitz incluir costo transaccin proporción inversin devolver infinitamente divisibl costo transaccin comisin cubrir él efectuar intercambio econmico caso compra venta activo empresa restricción entero referencia nmero acción comprar empresa capital disponible lugar proporción ver él desear inversin tener afrontar problema as inclusin costo transaccin restricción entero elemento esencial modelo practico optimizacin portafolio tomar costo transaccin restricción entero problema optimizacin tornar ms complicado captulo incluir caracterstica modelo markowitz ver impacto provocar ste solucin problema mtodo heurstico desarrollar mostrar efectivo mtodo algoritmo gentico 6.1 modelo optimizacin comnmente costo transaccin proporcional volumen comerciado costo varar linealmente cantidad acción comprado vendido as modelo optimizacin utilicemos considerar costo transaccin sern pagado proporcional permitir costo empresa costo comprar vender as cbi csi representar proporción costo transaccin comprar vender accin empresa i respectivamente i 1     n nmero activo adquirir n+ 0 pi precio actual activo i. costo comprar acción empresa i   pi +   pi   cbi expresaremo   pi + cbi cbi =   pi   cbi inversionista poseer capital inicial k indivisibilidad proporción restricción entero capital gastado compra activo necesariamente k residuo   = k pn i=1(ni   pi + cbi utilizar inversin tasa libre riesgo rf 1 ejemplo interés pagar banco os   0 apalancamiento2 est permitido 1aunque decir residuo inviertar activo libre riesgo realidad activo tendr menor participacin solucin as ameritir capital invertir rf residuo despus invertir ms renta variable depender conveniencia 2el apalancamiento referir obtencin prstamo financiar compra activo as aumentar rendimiento inversin 50   aproximacin prctico mtodo seleccin portafolio inversin arxiv costo transaccin compra cbi est cobrar proceso adquisicin activo dlar invertir slo poder utilizar dlar compra activo resto pagar costo compra as costo compra pagar principio periodo inversin costo venta cobrar periodo algn momento vender activo transformar él rendimiento as definimos costo transaccin venta csi =   pi + t   ri   pi   csi t nmero periodo t ri rendimiento empresa i periodo t. as pi + t   ri   pi precio t periodo precio esperado accin empresa i. forma costo venta depender valor t caso t = bolsa burstil t = 251 periodo inversin ao as rendimiento portafolio periodo t est rp = pn i=1 ri   pi   k   csi k   t +    rf k 6.1 rendimiento portafolio rendimiento proporcionar activo adquirido proporcin rendimiento pagar costo venta ms rendimiento obtenido activo libre riesgo adems definimos proporcin inversin wi =   pi k   n x i=1 wi = 1   + pn i=1 cbi k definir riesgo portafolio 2 p = n x i=1 n x j=1 wiwjij 6.2 ij covarianza rendimiento esperado i j. as modelo optimizacin utilizarer maximizar e(rp 1 ww 6.3 s.a wi =   pi k n+ 0   = k   n x i=1   pi + cbi 0 0   1 ver él modelo requerir ms informacin inversin capital disponible k precio pi determinar nmero mximo activo adquirir empresa i costo proporcional transaccin cbi csi rendimiento activo libre riesgo rf as periodo inversin t calcular costo venta evidente inclusin costo transaccin restricción entero complicar significativamente problema optimizacin portafolio requerirer mtodo bsqueda heurstico solucin modelo 51   aproximacin prctico mtodo seleccin portafolio inversin arxiv 6.2 algoritmo gentico modelo seleccin portafolio presentado anteriormente resolver algoritmo gentico ver captulo mtodo bsqueda xito tipo problema caracterstica principal algoritmo   codificacin caso valor desear determinar ag n vector nmero acción comprado empresa n = n1 n2     nn n+ 0 i 1     n as codificacin posible solución vector   funcin adaptacin funcin adaptacin funcin objetivo problema optimizacin problema maximizacin   tamao poblacin tamao poblacin utilizarer 94 nmero empresa = 95 poblacin conformado mejor solución generacin cruzamiento seleccionar punto aleatorio cruce mutacin consistir cambiar aleatoriamente nmero activo adquirido algn  i igualmente aleatorio poblacin inicial generar azar cumplir restriccin   0 nmero activo generado 0 mximo nmero compra capital actual requerir corregir solucin generado realiz operacin cruzamiento mutacin proporción inversin conservar él cdigo r correspondiente algoritmo gentico apndice c representado funcin galambdanportfolio hacer comparacin solucin pc ag seleccionar   = 0.5 punto relacin riesgo-rendimiento nmero generación utilizar ag m = 300 capital disponible utilizarer k = 10 000 costo transaccin compra venta usarar cbi = 0.01 csi = 0.01 i 1     n periodo inversin contemplado ao t = 251 ltimo rendimiento activo libre riesgo rf = 0.07/251 proporcionar activo libre riesgo mxico necesario definir capital precio evidente valor escala moneda caso dlar definido parmetro obtenemos portafolio mtodo resultado programacin cuadrtico solucin programacin cuadrtico pf = objeto portafolio lambdaportfolio(pf lambda=0.5 $ er 1 0.002934608 $ sd 1 0.02111648 $ f 1 0.001244351 $ portfolio abat_adj.c él él isrg_adj.c él él nvda_adj.c él él ptr_adj.close stec_adj.close 0.1017 0.1031 0.3060 0.2623 0.2269 algoritmo gentico solucin algoritmo gentico pf = objeto portafolio precio periodo 2007 precio actual prices2<-read.table(prices-2007.csv header = t sep= 52   aproximacin prctico mtodo seleccin portafolio inversin arxiv guardar precio actual pr pr<-as.numeric prices2[1 2:96 vector costo transaccin proporcional cb<-rep(0.01 95 cs<-rep(0.01 95 m = nmero generación prices = vector precio actual cb = vector costo proporcional compra cs = vector costo proporcional venta cap = capital inicial rf = rendimiento libre riesgo t = nmero periodo p<-galambdanportfolio(pf lambda=0.5 m=300 priz = pr cb = cb c = cs cap=10000 rf=0.07/251 t=251 print(p $ er 1 1 0.002842697 $ sd 1 1 0.02109197 $ 1 3.5149 $ f 1 0.001198913 $ n 1 0 0 1569 0 0 0 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 31 14 0 0 0 0 0 0 0 0 0 0 0 0 0 0 46 0 0 0 0 0 0 0 0 117 0 0 0 0 0 0 61 0 0 0 0 21 0 0 0 0 0 0 0 0 0 0 76 164 0 0 0 0 0 0 0 0 0 0 0 0 0 0 91 0 0 0 0 0 $ portfolio abat_adj.c él él isrg_adj.c él él nvda_adj.c él él ptr_adj.c él él stec_adj.c él él 0.1036 0.1323 0.2814 0.2607 0.2119 $ nportfolio abat_adj.c él él isrg_adj.c él él nvda_adj.c él él ptr_adj.c él él stec_adj.close 1569 14 117 21 164 observar él ambos solución pc ag comparabl modelo agregar restricción pn i=1 wi 1 medida riesgo rendimiento ligeramente os ptimo proporcionar funcin lambdaportfolio realidad ptimo modelo abordir captulo comparacin resultado podr idea solucin proporcionado ag costo transaccin asignado 1 solución similar 53   aproximacin prctico mtodo seleccin portafolio inversin arxiv resultado devuelto ag proporcionar portafolio cuyo rendimiento esperado anual 71.3 rendimiento esperado diario p$er = 0.002842697 despus compra acción pago costo transaccin 3515 p$e = 3.5149 dlar poder invertir residuo invertir renta fijo rendimiento diario aportar insignificante efecto rendimiento portafolio portafolio resultante est conformado nvidia nvda 28.14 inversin capital 117 acción seguido petrochina ptr 26.07 21 acción stec stec 21.19 164 acción intuitivir surgical isrg 13.23 14 acción advanced battery technologies abat 10.36 1569 acción empresa conformar portafolio generado ag pc proporción similar resultado incluir cantidad acción compran empresa capital disponible p$nportfolio ejemplo abat representar menor proporcin inversin compran 1569 acción empresa precio $ 0.66 dlar rendimiento esperado desviacin estndar portafolio suponer él solucin devolver algoritmo gentico cercano ptimo global funcin galambdanportfolio tambin generar grfica convergencia poblacin presentar figura 6.1 figurar 6.1 convergencia algoritmo gentico espacio solución finito general algoritmo tener convergencia ms rpida as espacio solución mover valor entero lmit definido posibilidad alcanzar ptir nmero generación inclusivir ptimo global solucin devuelta probabilidad ptimo global ltimo apreciar efecto costo transaccin optimizacin portafolio graficir frontera eficiente obtenido pc restricción entero costo transaccin ag valor costo transaccin costo transaccin proporcional utilizarer 1 cbi = csi = 0.01 2 cbi = csi = 0.05 3 cbi = csi = 0.1 i 1     n 54   aproximacin prctico mtodo seleccin portafolio inversin arxiv general residuo inversin insignificante caso rendimiento activo libre riesgo generar diferencia relevante rendimiento portafolio valor   generar portafolio escaso rendimiento participacin activo comparacin ms adecuado rendimiento activo libre riesgo redefinir rf = 0 grfica utilizar cdigo graficar frontera eficiente programacin cuadrtico plot(lambdafrontier(pf xlab="desviacin estndar ylab="rendimiento esperado type="l col = c("gray costo = 0.01 cb<-rep(0.01 95 cs<-rep(0.01 95 lines(galambdanfrontier(pf m=500 priz = pr cb = cb c = cs cap=10000 rf=0 t=251 type="l costo = 0.05 cb<-rep(0.05 95 cs<-rep(0.05ir 95 lines(galambdanfrontier(pf m=500 priz = pr cb = cb c = cs cap=10000 rf=0 t=251 type="l costo = 0.1 cb<-rep(0.1 95 cs<-rep(0.1 95 lines(galambdanfrontier(pf m=500 priz = pr cb = cb c = cs cap=10000 rf=0 t=251 type="l figurar 6.2 frontera eficiente algoritmo gentico costo transaccin 55   aproximacin prctico mtodo seleccin portafolio inversin arxiv resultado mostrar figura 6.2 ver él afectar costo transaccin rendimiento riesgo costo rendimiento esperado mximo portafolio disminuir riesgo nivel rendimiento as forma frontera eficiente cambiar depender costo transaccin deber pagar portafolio conformar evidente importancia inclusin costo problema optimizacin as realidad alcanzarer expectativa rendimiento proporcionar modelo media-varianza invertir portafolio deber utilizar ejemplo portafolio mnima varianzo captulo 2 inversionista seleccionar portafolio periodo inversin tendr rendimiento menor esperado costo transaccin tambin adquirir portafolio proporción exacto caso inversionista preferir invertir renta fijo 6.3 lote transaccin mnir restricción manejar problema seleccin portafolio existir mnimo acción transaccin lote manejo lote modelo 6.3 fcil incluir restriccin entero slo necesario utilizar precio lote lugar precio accin ejemplo nmero mnimo acción transaccin empresa i 100 utilizarer p i = pi   100 forma resultado proporcionar algoritmo nmero lote comprar empresa problema seleccin definimos lote 100 acción empresa slo necesario multiplicar 100 precio correspondiente utilizar priz = pr*100 p<-galambdanportfolio(pf lambda=0.5 m=300 priz = pr*100 cb = cb c = cs cap=10000 rf=0.07/251 t=251 print(p $ er 1 1 0.003009554 $ sd 1 1 0.02627683 $ 1 27.26 $ f 1 0.001159541 $ n 1 0 0 18 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 26 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 51 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 76 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $ portfolio abat_adj.c él él nvda_adj.c él él stec_adj.close 0.1188 0.4810 0.3876 $ nportfolio abat_adj.c él él nvda_adj.c él él stec_adj.close 18 2 3 56   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 6.3 convergencia algoritmo gentico lote portafolio resultante poseer rendimiento esperado anual 75.5 est conformado 18 lote advancedir battery technologies abat 2 lote nvidia nvda 3 lote stec stec riesgo ste portafolio riesgo rendimiento tambin proporcionalmente riesgo creci ms evidentemente restriccin adicional lote portafolio resultante ms portafolio restriccin residuo caso 27.26 dlar p$e = 27.26 esperar residuo aumente dinero necesario comprar lote acción modelo media-varianza visto captulo 2 suponer aspirar expectativa rendimiento lmit frontera eficiente importar precio acción efecto lote est relacionado rendimiento portafolio realidad alcanzar ejemplo capital requerimos comprar proporcin acción determinado empresa precio lote expectativa rendimiento alcanzar menor as presencia lote menor efecto seleccin portafolio conforme capital disponible forma aproximar yo proporción inversin ptima entender efecto lote capital escaso figura 6.4 mostrar comportamiento conjunto funcin objetivo aumentar tamao lote costo transaccin3 recordar caso mximo terico funcin objetivo 0.001244 observar nmero acción conformar lote costo transaccin menor valor funcin alcanzar ms deficiente relacin riesgo-rendimiento 3para utiliz   = 0.5 k = 1 000 lote 10 100 acción costo transaccin 1 10 57   aproximacin prctico mtodo seleccin portafolio inversin arxiv figurar 6.4 efecto aumentar tamao lote costo transaccin 6.4 observación captulo construimos modelo seleccin portafolio costo transaccin restricción entero observar inclusin costo transaccin efecto importante composicin portafolio eficiente riesgo rendimiento as solución ptima costo transaccin diferir significativamente caso mercado perfecto costo modelo realista incluir él mostrar desempeo futuro portafolio formado captulo comportamiento similar captulo 2 utilizar criterio seleccin portafolio abat represente proporcin importante inversin tendrn rendimiento esperado 2007 nvda stec ptr representar proporcin tendrn  rendimiento futuro similar esperado implementacin modelo algoritmo gentico mtodo optimizacin proporcionar solución modelo aqu presentado algoritmo gentico solucin fcilmente adaptado resolver problema rebalanceamiento generar portafolio w existente w considerar costo transaccin inclusin restriccin entero permitir determinar nmero exacto acción comprar empresa capital disponer lote tambin efecto rendimiento portafolio obtener cambiar considerablemente composicin portafolio formado captulo seleccionar criterio media-semivarianza simplemente hacindolir explicito definicin objeto portfolio pf<-newportfolio(r risk="svar pensar él solucin modelo visto captulo var significativamente modelo markowitz sto as optimizacin agregar restricción modelo cambiar solucin optimo caso capital disponible tener costo transaccin nmero acción 58   aproximacin prctico mtodo seleccin portafolio inversin arxiv conformar lote portafolio ptimo diferir ms generado modelo markowitz as posible expectativa riesgo rendimiento ver espacio solución modelo finito alto probabilidad solucin generado ag ptimo global 59   conclusin modelo seleccin optimizacin portafolio objetivo proporcionar inversionista instru- mento estadstico permitir elegir razonable portafolio inversin futuro caracterstica preferir modelo optimizacin ventaja desventaja investigacin mostrar resultado caracterstica modelo abordado despu analizar rendimiento 95 empresa modelo media-varianza markowitz as modelo media-semivarianza costo transaccin lote llegar siguiente conclusión mencionado respectivo captulo   captulo 2 3 mostrir forma aplicar teora portafolio importancia diversifica- cin as criterio media-varianza diferencia preferencia inversionista aversin riesgo decisión stir tomar ubicado frontera eficiente   solucin ptimo modelo seleccin sensible informacin utilizado modelo aqu abordado medida rendimiento media ver él afectado fcilmente dato muestra causar selección portafolio diferentes4 medida rendimiento calcular adecuadamente suficiente informacin   modelo media-varianza modelo media-semivarianza general presentar comportamiento elección portafolio confiable conforme aceptar ms riesgo obtener rendimiento   ms adecuar utilizar semivarianza medida riesgo medir subdesempeo rendimiento conformar portafolio ms cercano inversionista riesgo as semivarianza permitir eleccin portafolio ms conveniente investigacin modelo media-semivarianza proporcionar mejor portafolio   inversin bolsa tambin necesario incluir estrategia inversin ejemplo decidir momento compra-venta portafolio malo seleccin punto disminuir considerablemente rendimiento   realidad costo asociado compra-venta acción costo transaccin impuesto captulo 5 pudimos apreciar impacto costo cmo integrarlo modelo media-varianza tambin costo transaccin fijo costo mnir transaccin combinacin agregar fcilmente modelo presentado   construir modelo presentado captulo 5 proporcionar portafolio ptir nmero exacto lote ms acción comprar rendimiento esperado obtendremos despu pagar costo transaccin proporcin inversin renta fijo dar capacidad inversin as modelo inversin real conocer comportamiento futuro riesgo asumir buscar rendimiento   restricción costo transaccin entero afectar considerablemente portafolio ptimo depender factor inclusin restricción importante obtener modelo seleccin portafolio prctico   caso modelo captulo 5 complejo abordar mtodo clsico optimizacin algoritmo gentico mostrar resultado capacidad alcanzar ptimo global corto nmero iteración 4v k. chopra w. t. ziemba the effect of errors in means varianz and covariances on optimal portfolio choice worldwide asset and liability modeling pgina 5361 cambridge  university press 1998 60   aproximacin prctico mtodo seleccin portafolio inversin arxiv   modelo abordado investigacin perodo inversin especial captulo 5 modificar hacerlo multi-periodo ejemplo agregar caso rebalanceamiento 61   apndice cdigo fuente markowitz.r programa r aqu presentado contener función utilizado optimizacin portafolio investigacin proporción inversin devolver funcin markowitzportfolio error redondeo 0.0001 programa software libre redistribuir él modificar él trmino licencia publica general gnu versin 2 biblioteca programacin cuadrtico funcin solve.qp library(quadprog creer objeto portafolio contener caracterstica medio medida riesgo utilizar newportfolio < function returns return="mear risk="var b=0 call < match.call if(return=="mean r < colmeans returns if(risk=="var s < cov returns elsir if(risk=="svar s < scov returns b nobs < nrow returns nasset < ncol returns p < list("call = call r = r s = s nasset = nasset nobs = nobs risk"=risk return p generar matriz semicovarianza aproximado estrado 2008 scov < function returns b=0 62   aproximacin prctico mtodo seleccin portafolio inversin arxiv nassets<-ncol(returns n<-nrow(returns s<-matriz(-1 nasset nasset for i in 1 nasset for j in i nasset x<-ifelse returns[,i]-b)>0 0 returns[,i]-b y<-ifelse returns[,j]-b)>0 0 returns[,j]-b s[i j]<- x%*%y n s[j i]<-s[i j return s devolver portafolio varianza mnima asociado nivel rendimiento devolver portafolio mnimo riesgo markowitzportfolio < function pobject eret=-1 minvar = false call < match.call nasset < pobject$nasset e_r < pobject$r s < pobject$s c < matriz 0 nasset 1 < rbind matriz 1 1 nasset diag(nasset b < matriz c(1 rep(0 nasset nassets + 1 1 if eret = -1 < rbind a[1 e_r 2:(nassets+1 b < rbind b[1 eret as.matrix(b 2:(nassets+1 if det s > 0 lambda < 0 elsir lambda < diag(nassets)*0.00000000001 if(minvar meq<-2 elsar meq<-1 solqp < solve.qp s + lambda c t(a b meq = meq w < as.matrix solqp$solution er < as.vector t(w)%*%e_r sd < as.vector sqrt t(w)%*%s%*%w weights < -round solqp$solution 4 portfolio < weights weights > 0 names(portfolio < nam pobject$r weights > 0 63   aproximacin prctico mtodo seleccin portafolio inversin arxiv results < list call = call er = er sd = sd weights = weights portfolio = portfolio return results determinar portafolio eficiente modelo minimizar 1-lambda)*var(r lambda*e(r lambdaportfolio < function pobject eret=-1 minvar = false lambda=0.5 call < match.call nasset < pobject$nasset e_r < pobject$r s < pobject$s c < matriz 0 nasset 1 < rbind matriz 1 1 nasset diag(nasset b < matriz c(1 rep(0 nasset nassets + 1 1 if eret = -1 < rbind a[1 e_r 2:(nassets+1 b < rbind b[1 eret as.matrix(b 2:(nassets+1 if det s > 0 lbd < 0 elsir lbd < diag(nassets)*0.00000000001 if(minvar meq<-2 elsar meq<-1 solqp < solve.qp s*((1-lambda)*2 + lbd e_r*lambda t(a b meq = meq w < as.matrix solqp$solution er < as.vector t(w)%*%e_r sd < as.vector sqrt t(w)%*%s%*%w weights < -round solqp$solution 4 portfolio < weights weights > 0 names(portfolio < nam pobject$r weights > 0 results < list call = call er = er sd = sd weights = weights portfolio = portfolio return results función grfica generar nrand portafolio aleatoriamente grfica plotportfoliopoint < function pobject nrand = 10000 64   aproximacin prctico mtodo seleccin portafolio inversin arxiv nassets < pobject$nasset e_r < pobject$r s < pobject$s preturn < rep 0 nrand prisk < rep 0 nrand for i in 1 nrand w < matriz(0 nasset 1 for j in 1 nasset if j = = 1 w[j < runif 1 0 1 else if j = = nasset w[j < 1 sum(w else w[j < runif 1 0 1 sum(w w < w sample(1 nasset nasset preturn[i < t(w e_r prisk[i < sqrt t(w s w lines(prisk preturn type="p pch=19 cex = 0.25 col="gray generar par desviacin estndar-rendimiento graficar conjunto varianza mnima efficientfrontier < function pobject n < 40 retm < rep(0 n sdm < rep(0 n e_r < pobject$r min < min(e_r + abs(min(e_r 005 max < max(e_r max(e_r 005 range < seq min max max min n-1 range < round range 6 for i in 1 n p < markowitzportfolio pobject range[i minvar = true retm[i < p$er sdm[i < p$sd 65   aproximacin prctico mtodo seleccin portafolio inversin arxiv return cbind(sdm retm generar par desviacin estndar-rendimiento graficar frontera eficiente modelo minimizar 1-lambda)*var(r lambda*e(r lambdafrontier < function pobject n < 40 retm < rep(0 n sdm < rep(0 n e_r < pobject$r range < seq 0 1 1 n-1 range < round range 6 for i in 1 n p < lambdaportfolio pobject lambda = range[i retm[i < p$er sdm[i < p$sd return cbind(sdm retm grficar conjunto oportunidad par posible empresa opportunitysetlín < function pobject nasset < pobject$nasset e_r < pobject$r s < pobject$s for i in 1:(nassets 1 for j in i + 1):nassets index = c(i j lín twoassetsef e_r[index s[index index type="l 66   aproximacin prctico mtodo seleccin portafolio inversin arxiv grficar conjunto oportunidad par empresa twoassetsef < function e_r s n < 30 retm < rep(0 n sdm < rep(0 n w<-seq 0 1 1 n-1 for i in 1 n w < as.matrix(c(w[i 1-w[i retm[i < t(w)%*%e_r sdm[i < sqrt t(w)%*%s%*%w return cbind(sdm retm grficar rendimiento esperado vs rendimiento obtenido efficientfrontierfit < function pobject returns2 n < 40 retm < rep(0 n e_r < pobject$r e_r2 < colmeans returns2 min < markowitzportfolio pobject $ er max < max(e_r max(e_r 005 range < seq min max max min n-1 range < round range 6 for i in 1 n p < markowitzportfolio pobject range[i retm[i < p$weights%*%e_r2 plot range retm type="l xlab="rendimiento esperado ylab="rendimiento obtenido lín range range type="l col = c("#8c8c8c 67   aproximacin prctico mtodo seleccin portafolio inversin arxiv x<-c mean(abs(range-retm mear range-retm)[(range-retm)>0 y<-c error error sub-estimacin names(x)<-y print(x grficar conjunto oportunidad conjunto empresa plotportfolio < function pobject er=-1 sd=-1 points=-1 call < match.call efficientfrontier < efficientfrontier pobject e_r < pobject$r xlim < range efficientfrontier[,1 max(sqrt(diag(pobject$s ylim < c minir e_r max e_r if(pobject$risk=="var xlab<-"desviacin estndar else if(pobject$risk=="svar xlab<-"semi-desviacin plot efficientfrontier xlim = xlim ylim = ylim xlab = xlab ylab="rendimiento esperado type="l opportunitysetlín pobject if point = -1 plotportfoliopoints pobject point if er!= -1 sd = -1 abline v = sd abline h = er obtener rendimiento precio prices matriz precio encontrar columna assetsreturn < function priz call < match.call nrow < nrow priz ncols < ncol priz r < prices[2 nrow 2 ncols prices[1:(nrows-1 2 ncols 1 return r 68   apndizar b cdigo fuente algoritmo gentico modelo m-v aqu presentar cdigo r solucionar modelo optimizacin maximizar e(wr 1 ww presentado captulo 4 algoritmo gentico recordar él utilizar precio escala moneda programa software libre redistribuir él modificar él trmino licencia publica general gnu versin 2 optimizacin portafolio algoritmo gentico galambdaportfolio<-function(pobject lambda=0.5 m=500 plot = true m = nmero generación tasa mutacin mr<-0.2 nmero empresa nasset < pobject$nasset tamao poblacin nmero par n<-trunc(nassets/2)*2 rendimiento varianza e_r < pobject$r s < pobject$s fg<-rep(0,m w<-matriz 0 n nasset wtmp<-matrix 0 n nasset generar poblacin inicial for i in 1 n w < matrix(0 nasset 1 w<-runif(nassets w<-w sum(w w[i,]<-w 69   aproximacin prctico mtodo seleccin portafolio inversin arxiv vector rendimiento poblacin generado rp<-w%*%(as.matrix(e_r vector varianza poblacin generado sp<-as.matrix(diag(w%*%s%*%t(as.matrix(w vector valor adaptacin poblacin generado f<-lambda*rp-(1-lambda)*sp x<-order(f ordenar f w adaptado f<-as.matrix((f)[x w<-w[(1 n)[x guardar elemento adaptado poblacin fg[1]<-f[n generar m-1 generación faltant for(j in 2 m calculamos probabilidad cruzamiento segn adaptacin pb<-(f sum(f z<-rep(0 n for(i  in 1 n z[i]<-sum(pb[1 i obtener elemento cruzar crossidx<-rep(0 n for(i  in 1 n crossidx[i]<-((1 n)[runif(1)<z])[1 proceso cruzamiento for(i  in seq(1,n,2 solución cruzar w1<-w[crossidx[i w2<-w[crossidx[i+1 mutir tasa mutacin aumentar generación if(runif(1)<(mr+j m*.5 w1[sample(1 nasset 1)]<-runif(1 0 2 punto cruce aleatorio wx<-sample(1:(nassets-1 1 obtener elemento guardamo poblacin temporal wtmp[i,]<-c(w1[1 wx w2[(wx+1):nassets wtmp[i,]<-wtmp[i,]/sum(wtmp[i wtmp[i+1,]<-c(w2[1 wx w1[(wx+1):nassets wtmp[i+1,]<-wtmp[i+1,]/sum(wtmp[i+1 70   aproximacin prctico mtodo seleccin portafolio inversin arxiv rendimiento varianza poblacin rptmp<-wtmp%*%(as.matrix(e_r sptmp<-as.matrix(diag(wtmp%*%s%*%t(as.matrix(wtmp adaptacin poblacin ftmp<-lambda*rptmp-(1-lambda)*sptmp x<-order(ftmp ftmp<-as.matrix((ftmp)[x wtmp<-wtmp[(1 n)[x ordenar adaptado f2<-rbind(f ftmp x<-order(f2 mantener poblacin slo n adaptado poblacin f<-as.matrix(((f2)[x])[(n+1):(2*n w<-(rbind(w wtmp 1:(2*n))[x n+1):(2*n guardamo adaptado generacin fg[j]<-f[n graficar elemento adaptado generacin if(plot plot(fg type="l xlab="generacin ylab="adaptacin obtenemos adaptado generación calcular rendimiento desviacin estndar w<-w[n er<-w%*%(as.matrix(e_r sd<-sqrt(w%*%s%*%w weights<-round(w 4 portfolio < weights weights > 0 names(portfolio < nam pobject$r weights > 0 presentar resultado results < list("er = er sd = sd weights = round(w 4 portfolio = portfolio return results obtenemos frontera eficiente variar lambda galambdafrontier < function pobject ng=500 nmero valor graficar n < 40 71   aproximacin prctico mtodo seleccin portafolio inversin arxiv retm < rep(0 n sdm < rep(0 n e_r < pobject$r valor lambda range < seq 0 1 1 n-1 range < round range 6 obtenemos rendimiento desviacin estndar lambda for i in 1 n p < galambdaportfolio pobject lambda = range[i plot = false m = ng retm[i < p$er sdm[i < p$sd devolvemos par desviacin estndar-rendimiento graficar return cbind(sdm retm 72   apndizar c cdigo fuente algoritmo gentico costo transaccin restricción entero aqu presentar cdigo r solucionar modelo optimizacin maximizar e(rp 1 ww costo transaccin restricción entero presentado captulo 5 algoritmo gentico recordar él utilizar precio escala moneda programa software libre redistribuir él modificar él trmino licencia publica general gnu versin 2 optimizacin portafolio algoritmo gentico galambdanportfolio < function(pobject lambda=0.5 m=500 plot = true priz cb=0 cs=0 cap rf=0 t=1 m = nmero generación tasa mutacin mr<-0.3 nmero empresa nasset < pobject$nasset vector precio accin empresa p<-priz mencionar costo transaccin hacerlo cero if(length(cb)==0 cb==0 c<-rep(0 nasset elsir c<-cb if(length(cs)==0 cs==0 c2<-rep(0 nassets elsir c2<-cs variable capital rendimiento libre riesgo periodo n0<-rep(0 nasset k<-cap rf<-rf t<-t tamao poblacin nmero par n<-trunc(nassets/2)*2 73   aproximacin prctico mtodo seleccin portafolio inversin arxiv rendimiento varianza e_r < pobject$r s < pobject$s mximo nmero acción comprar limn<-trunc(k min(p fg<-rep(0,m n<-matrix(0 n nasset ntmp<-matrix 0 n nasset generar poblacin inicial for(i in 1 n ke<-k for(j in sample(1 nasset n[i j]<-sample(0 trunc ke/(p[j 1+c[j 1 ke<- k n[i p + n[i p*c vector residuo poblacin generado < k p%*%t(n + t(c*p)%*%t(n w<-t(((p)*t(n)/k vector rendimiento poblacin generado rp<-(t(e_r*p)%*%t(n))/k + e*rf)/k t*t(e_r*p)+p)*c2)%*%t(n)/k /t vector varianza poblacin generado sp<-diag(w%*%s%*%t(as.matrix(w vector valor adaptacin poblacin generado f<-lambda*rp-(1-lambda)*sp x<-order(f ordenar f w n adaptado f<-as.matrix((f)[x w<-w[(1 n)[x n<-n[(1 n)[x guardar elemento adaptado poblacin fg[1]<-f[n funcin correccin poblacin cruce mutacin nfix<-function(nn pp<-(p*nn)/(p%*%nn y<-order(pp decreasing = true idx<-((1 nassets)[y])[pp[y]>0 nc<-rep(0 nasset 74   aproximacin prctico mtodo seleccin portafolio inversin arxiv ke<-k for(l in idx nc[l]<-trunc pp[l]*k)/ p[l 1+c[l return(nc generamos m-1 generación faltant for(j in 2 m calculamos probabilidad cruzamiento segn adaptacin pb<-(f sum(f z<-rep(0 n for(i  in 1 n z[i]<-sum(pb[1 i obtener elemento cruzar crossidx<-rep(0 n for(i  in 1 n crossidx[i]<-((1 n)[runif(1)<z])[1 proceso cruzamiento for(i  in seq(1,n,2 solución cruzar n1<-n[crossidx[i n2<-n[crossidx[i+1 mutir tasa mutacin aumentar generación if(runif(1)<(mr+j m*.3 n1[sample(1 nasset 1)]<-sample(1:(2*limn 1 punto cruce aleatorio nx<-sample(1:(nassets-1 1 obtener elemento guardamo poblacin temporal ntmp[i,]<-c(n1[1 nx n2[(nx+1):nassets ntmp[i+1,]<-c(n2[1 nx n1[(nx+1):nasset correccin solución ntmp[i,]<-nfix(ntmp[i ntmp[i+1,]<-nfix(ntmp[i+1 residuo poblacin e2 < k p%*%t(ntmp + t(c*p)%*%t(ntmp proporción w2<-t(((p)*t(ntmp)/k rendimiento varianza poblacin rp2<-t(e_r*p)%*%t(ntmp)/k + e2*rf)/k t*t(e_r*p)+p)*c2)%*%t(ntmp)/k)/t 75   aproximacin prctico mtodo seleccin portafolio inversin arxiv sp2<-as.numeric(diag(w2%*%s%*%t(as.matrix(w2 adaptacin poblacin f2<-lambda*rp2-(1-lambda)*sp2 x<-order(f2 f2<-as.matrix((f2)[x w2<-w2[(1 n)[x ntmp<-ntmp[(1 n)[x ordenar adaptado ftmp<-rbind(f f2 x<-order(ftmp mantener poblacin slo n adaptado poblacin f<-as.matrix(((ftmp)[x])[(n+1):(2*n w<-(rbind(w w2 1:(2*n))[x n+1):(2*n n<-(rbind(n ntmp 1:(2*n))[x n+1):(2*n guardamo adaptado generacin fg[j]<-f[n graficar elemento adaptado generacin if(plot plot(fg type="l xlab="generacin ylab="adaptacin obtenemos adaptado generación calcular rendimiento desviacin estndar w<-w[n n0<-n[n e0 < k sum(p*n0 + sum(c*p*n0 f0<- f[n er<-(e_r*p)%*%n0 k + e0*rf)/k sum(((t*e_r*p)+p)*n0*c2)/k /t sd<-sqrt(w%*%s%*%w weights<-round(w 4 portfolio < weights weights > 0 names(portfolio < nam pobject$r weights > 0 nportfolio < n0 n0 > 0 names(nportfolio < nam pobject$r n0 > 0 presentar resultado results < list("er = er sd = sd = e0 f = f0 n = n0 portfolio = portfolio nportfolio = nportfolio return results 76   aproximacin prctico mtodo seleccin portafolio inversin arxiv obtenemos frontera eficiente variar lambda galambdanfrontier < function pobject m=500 plot = true priz cb=0 cs=0 cap rf=0 t=1 nmero valor graficar n < 40 retm < rep(0 n sdm < rep(0 n e_r < pobject$r range < seq 0 1 1 n-1 valor lambda range < round range 6 obtenemos rendimiento desviacin estndar lambda for i in 1 n p < galambdanportfolio pobject lambda = range[i plot = false m = m priz = priz cb = cb c = cs cap = cap rf = rf t = t retm[i < p$er sdm[i < p$sd devolvemos par desviacin estndar-rendimiento graficar return cbind(sdm retm 77   bibliografa 1 gorskiy mark andreevich problems of choosing models for the formation and management of investment portfolio science education practice page 40 2020 2 javier estrada mean-semivariance optimization heuristic approach ssrn elibrary 2007 3 yahoo finance http://finance.yahoo.com 2010 4 john jr guerard handbook of portfolio construction contemporary applications of markowitz techniqu springer-verlag 2009 5 philippe jorion and garp financial risk manager handbook wiley finance john wiley sons may 2003 6 h. levy and m. sarnat portfolio and investment selection theory and practice prentacer hall 1984 7 lin xiaoming li and minqiang li genetic algorithm for solving portfolio optimization problems with transaction costs and minimum transaction lots in advanz in natural computation volumir 3612 of lecturir not in computer science pag 808811 springer berlin heidelberg 2005 8 natyhelem gil londono algoritmos gentico escuela estadstica-universidad nacional colombia 2006 9 dietmar maringer portfolio management with heuristic optimization advanz in computational management science springer-verlag 2005 10 harry m. markowitz portfolio selection journal of finance 7(1):7791 1952 11 harry m. markowitz portfolio selection efficient diversification of investments john wiley sons new york 1959 12 harry m. markowitz mean-variance analysis in portfolio choice and capital market basil blackwell 1987 13 harry m. markowitz portfolio selection efficient diversification of investments basil blackwell new york 2nd edition 1991 14 philip j. mcdonnell optimal portfolio modeling john wiley sons 2008 15 j. e. mitchell and s. braun rebalancing an investment portfolio in the presence of transaction costs technical report mathematical scienz rensselaer polytechnic institutar december 2003 16 melanie mitchell an introduction to genetic algorithms the mit press cambridge ma 1999 17 flix roudier portfolio optimization and genetic algorithms master thesis department of management technology and economics-swiss federal institutar of technology zurich 2007 18 s. satchell and alan scowcroft advances in portfolio construction and implementation butterworth-heinemann amsterdam oxford 1st ed edition 2003 19 bernd michael scherer and r. dougla martin introduction to modern portfolio optimization with nuopt and s-plus springer-verlag 2005 20 frank j. travers investment manager analysis comprehensive guidir to portfolio selection monitoring and optimization john wiley sons 2004 21 ralph vince the handbook of portfolio mathematics formula for optimal allocation leverage john wiley sons 2007 22 shouyang wang and yusen xia portfolio selection and asset pricing springer-verlag 2002 23 atsushi yoshimoto the mean-variance approach to portfolio optimization subject to transaction costs journal of the operations research society of japan 39(1):99117 1996 78